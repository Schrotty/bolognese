!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){(function(n){var o;
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var r=function(){this.init()};r.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),r=0;r<o.length;r++){var a=t._howls[n]._soundById(o[r]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),r=0;r<o.length;r++){var a=t._howls[n]._soundById(o[r]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),r=o&&parseInt(o[0].split("/")[1],10)<33;return e._codecs={mp3:!(r||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var o=0;o<e.html5PoolSize;o++)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0}for(o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then((function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())})))}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new r,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return i.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,o;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(o=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(o))||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&d(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,o=null;if("number"==typeof e)o=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var r=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(r++,o=n._sounds[a]._id);1===r?e=null:o=null}}var s=o?n._soundById(o):n._inactiveSound();if(!s)return null;if(o&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(o&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var d=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),c=1e3*l/Math.abs(s._rate),_=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var f=function(){s._paused=!1,s._seek=d,s._start=_,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(d>=p)){var m=s._node;if(n._webAudio){var h=function(){n._playLock=!1,f(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,d,86400):m.bufferSource.noteGrainOn(0,d,l):s._loop?m.bufferSource.start(0,d,86400):m.bufferSource.start(0,d,l),c!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state?h():(n._playLock=!0,n.once("resume",h),n._clearTimer(s._id))}else{var v=function(){m.currentTime=d,m.muted=s._muted||n._muted||i._muted||m.muted,m.volume=s._volume*i.volume(),m.playbackRate=s._rate;try{var o=m.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(n._playLock=!0,f(),o.then((function(){n._playLock=!1,m._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,f(),n._emit("play",s._id),n._loadQueue()),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var y=window&&window.ejecta||!m.readyState&&i._navigator.isCocoonJS;if(m.readyState>=3||y)v();else{n._playLock=!0;var g=function(){v(),m.removeEventListener(i._canPlayEvent,g,!1)};m.addEventListener(i._canPlayEvent,g,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var r=t._soundById(n[o]);if(r&&!r._paused&&(r._seek=t.seek(n[o]),r._rateSeek=0,r._paused=!0,t._stopFade(n[o]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),r=0;r<o.length;r++){n._clearTimer(o[r]);var i=n._soundById(o[r]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(o[r]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),r=0;r<o.length;r++){var a=n._soundById(o[r]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,o=this,r=arguments;if(0===r.length)return o._volume;if(1===r.length||2===r.length&&void 0===r[1]){var a=o._getSoundIds(),s=a.indexOf(r[0]);s>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?o._soundById(t):o._sounds[0])?n._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,r)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(n=o._soundById(t[u]))&&(n._volume=e,r[2]||o._stopFade(t[u]),o._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),o._emit("volume",n._id));return o},fade:function(e,t,n,o){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(e,t,n,o)}}),r;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),r.volume(e,o);for(var a=r._getSoundIds(o),s=0;s<a.length;s++){var u=r._soundById(a[s]);if(u){if(o||r._stopFade(a[s]),r._webAudio&&!u._muted){var d=i.ctx.currentTime,l=d+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,d),u._node.gain.linearRampToValueAtTime(t,l)}r._startFadeInterval(u,e,t,n,a[s],void 0===o)}}return r},_startFadeInterval:function(e,t,n,o,r,i){var a=this,s=t,u=n-t,d=Math.abs(u/.01),l=Math.max(4,d>0?o/d:o),c=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var r=(Date.now()-c)/o;c=Date.now(),s+=u*r,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=o._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=o._getSoundIds(t),a=0;a<i.length;a++)(n=o._soundById(i[a]))&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return o},rate:function(){var e,t,n,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),s=a.indexOf(r[0]);s>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("number"!=typeof e)return(n=o._soundById(t))?n._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,r)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)if(n=o._soundById(t[u])){o.playing(t[u])&&(n._rateSeek=o.seek(t[u]),n._playStart=o._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,o._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var d=o.seek(t[u]),l=(o._sprite[n._sprite][0]+o._sprite[n._sprite][1])/1e3-d,c=1e3*l/Math.abs(n._rate);!o._endTimers[t[u]]&&n._paused||(o._clearTimer(t[u]),o._endTimers[t[u]]=setTimeout(o._ended.bind(o,n),c)),o._emit("rate",n._id)}return o},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var r=n._getSoundIds(),a=r.indexOf(o[0]);a>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var u=n.playing(t)?i.ctx.currentTime-s._playStart:0,d=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(d+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var c=function(){n._emit("seek",t),l&&n.play(t,!0)};if(l&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):c()};setTimeout(_,0)}else c()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var o=i._howls.indexOf(e);o>=0&&i._howls.splice(o,1);var r=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){r=!1;break}return u&&r&&delete u[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var r=this["_on"+e];return"function"==typeof t&&r.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<o.length;r++){var i=n===o[r].id;if(t===o[r].fn&&i||!t&&i){o.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(this[a[r]])&&(this[a[r]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this["_on"+e],r=o.length-1;r>=0;r--)o[r].id&&o[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,o[r].fn),0),o[r].once&&this.off(e,o[r].fn,o[r].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),o)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var u={},d=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),r=0;r<n.length;++r)o[r]=n.charCodeAt(r);c(o.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.withCredentials=e._xhrWithCredentials,i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?c(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},o=function(e){e&&t._sounds.length>0?(u[t._src]=e,_(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(o).catch(n):i.ctx.decodeAudioData(e,o,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var o=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!o||i._navigator&&!i._navigator.standalone&&!o)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(o=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=o),t.Howler=i,t.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=r,window.Howler=i,window.Howl=a,window.Sound=s):void 0!==n&&(n.HowlerGlobal=r,n.Howler=i,n.Howl=a,n.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,o,r,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,o="number"!=typeof o?a[3]:o,r="number"!=typeof r?a[4]:r,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,o,r,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,o,r,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var i=o._getSoundIds(n),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",s._id)}}return o},Howl.prototype.pos=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,o,r)}}),i;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===r){if("number"!=typeof e)return i._pos;i._pos=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,o],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(e,n,o)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,o,r)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,o="number"!=typeof o?i._orientation[2]:o,void 0===r){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,o],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,o)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,o,r=this,i=arguments;if(!r._webAudio)return r;if(0===i.length)return r._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(o=r._soundById(parseInt(i[0],10)))?o._pannerAttr:r._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:r._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=r._getSoundIds(n),s=0;s<a.length;s++)if(o=r._soundById(a[s])){var u=o._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var d=o._panner;d?(d.coneInnerAngle=u.coneInnerAngle,d.coneOuterAngle=u.coneOuterAngle,d.coneOuterGain=u.coneOuterGain,d.distanceModel=u.distanceModel,d.maxDistance=u.maxDistance,d.refDistance=u.refDistance,d.rolloffFactor=u.rolloffFactor,d.panningModel=u.panningModel):(o._pos||(o._pos=r._pos||[0,0,-.5]),t(o,"spatial"))}return r},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o,r=n(0),i=function(){function e(){}return e.exists=function(){return localStorage.length>0},e.store=function(e,t){localStorage.setItem(e,t)},e.load=function(e){return localStorage.getItem(e)},e.loadBoolean=function(t){return JSON.parse(e.load(t))},e.exist=function(t){return null!=e.load(t)},e.storeIfNull=function(t,n){e.exist(t)||e.store(t,n)},e}();!function(e){e.Pomodoro="Pomodoro",e.LongBreak="Long Break",e.ShortBreak="Short Break"}(o||(o={}));var a=function(){function e(e){var t=this;"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)}))})),this.initSettings(),this.title=document.querySelector("#m-title"),this.subTitle=document.querySelector("#s-title"),this.timerType=o.Pomodoro,this.timer=document.querySelector("#timer"),this.timerSub=document.querySelector("#timer-sub"),this.pomodoroButton=document.querySelector("#pomodoro-button"),this.pomodoroButton.addEventListener("click",(function(){return t.updateTimer(i.load("pomodoro"),o.Pomodoro)})),this.longBreakButton=document.querySelector("#l-break-button"),this.longBreakButton.addEventListener("click",(function(){return t.updateTimer(i.load("long-break"),o.LongBreak)})),this.shortBreakButton=document.querySelector("#s-break-button"),this.shortBreakButton.addEventListener("click",(function(){return t.updateTimer(i.load("short-break"),o.ShortBreak)})),this.pomodoroAutoCheckbox=document.querySelector("#pomodoro-auto-mode"),this.pomodoroAutoCheckbox.addEventListener("change",(function(){i.store("pomodoro_auto",t.pomodoroAutoCheckbox.checked)})),this.pomodoroBreaksInput=document.querySelector("#pomodoro-breaks"),this.pomodoroBreaksInput.addEventListener("change",(function(){i.store("max_break",t.pomodoroBreaksInput.value),i.store("cur_break",0)})),this.pomodoroAutoCheckbox.checked=JSON.parse(i.load("pomodoro_auto")),this.pomodoroBreaksInput.value=i.load("max_break"),this.alarmOverlay=document.querySelector("#alarm-overlay"),this.alarmOverlay.addEventListener("click",(function(){t.animateCSS("#test","bounceOut",(function(){t.alarmOverlay.classList.add("hidden")})),t.alarm.fade(i.load("volume"),0,2e3)})),this.infiniteAlarmCheckbox=document.querySelector("#infinite-alarm"),this.infiniteAlarmCheckbox.checked=i.loadBoolean("infinite-alarm"),this.infiniteAlarmCheckbox.addEventListener("change",(function(){i.store("infinite-alarm",t.infiniteAlarmCheckbox.checked)})),this.tabTimerCheckbox=document.querySelector("#tab-timer"),this.tabTimerCheckbox.checked=i.loadBoolean("tab-timer"),this.tabTimerCheckbox.addEventListener("change",(function(){i.store("tab-timer",t.tabTimerCheckbox.checked)})),this.notificationCheckbox=document.querySelector("#enable-notification"),this.notificationCheckbox.checked=i.loadBoolean("enable-notification"),this.notificationCheckbox.addEventListener("change",(function(){"default"===Notification.permission&&Notification.requestPermission(),i.store("enable-notification",t.notificationCheckbox.checked)}));var n=0;document.addEventListener("keypress",(function(e){"p"===e.key&&++n>=3&&(n=0,t.title.innerHTML="PaperplaneTime",t.subTitle.innerHTML="for PrincessPaperplane")})),document.querySelector("#start").addEventListener("click",(function(){return t.startTimer()})),document.querySelector("#stop").addEventListener("click",(function(){return t.stopTimer()})),document.querySelector("#reset").addEventListener("click",(function(){return t.resetTimer()})),document.querySelector("#settings").addEventListener("click",(function(){return t.overlayFadeIn()})),document.querySelector("#settings-close").addEventListener("click",(function(){return t.overlayFadeOut()})),document.querySelector("#c-pomodoro").addEventListener("change",(function(){i.store("pomodoro",document.querySelector("#c-pomodoro").value)})),document.querySelector("#c-l-break").addEventListener("change",(function(){i.store("long-break",document.querySelector("#c-l-break").value)})),document.querySelector("#c-s-break").addEventListener("change",(function(){i.store("short-break",document.querySelector("#c-s-break").value)})),document.querySelector("#custom-alarm").addEventListener("change",(function(){i.store("alarm",document.querySelector("#custom-alarm").value)})),document.querySelector("#volume-control").addEventListener("change",(function(){i.store("volume",document.querySelector("#volume-control").value)})),document.querySelector("#alarm-preview").addEventListener("click",(function(){new r.Howl({volume:i.load("volume"),html5:!0,src:["sounds/"+i.load("alarm")+".mp3"]}).play()})),document.querySelectorAll(".timer").forEach((function(e){return t.registerButtonhandle(e)})),this.indexAlarms(),window.localStorage||document.querySelector("#settings-button").remove(),document.querySelector("#c-pomodoro").value=i.load("pomodoro"),document.querySelector("#c-l-break").value=i.load("long-break"),document.querySelector("#c-s-break").value=i.load("short-break"),document.querySelector("#volume-control").value=i.load("volume"),this.time=e,this.updateTimer(this.time,o.Pomodoro)}return e.prototype.initTimer=function(){this.counter=60*this.time,this.display=this.time,this.sub_dis=0,this.is_ticking=!1},e.prototype.startTimer=function(){var e,t,n=this;this.is_ticking||("-"!=i.load("alarm")&&(this.alarm=new r.Howl({volume:i.load("volume"),html5:!1,loop:i.loadBoolean("infinite-alarm"),src:["sounds/"+i.load("alarm")+".mp3"]})),this.is_ticking=!0,this.interval=setInterval((function(){n.counter=n.counter-1,n.display=Math.floor(n.counter/60),0==n.sub_dis&&(n.sub_dis=60),n.sub_dis--,e=n.display.toString(),t=n.sub_dis.toString(),n.sub_dis<10&&(t="0"+n.sub_dis),n.display<10&&(e=0+n.display.toString()),n.timer.textContent=e,n.timerSub.textContent=t,i.loadBoolean("tab-timer")&&n.refreshTitle(e+":"+t),0===n.counter&&(n.alarm.play(),n.stopTimer(),i.loadBoolean("infinite-alarm")&&(n.alarmOverlay.classList.remove("hidden"),n.animateCSS("#alarm-overlay","bounceInDown",null)),i.loadBoolean("pomodoro_auto")&&(n.timerType!=o.ShortBreak&&n.timerType!==o.LongBreak||n.pomodoroButton.click(),n.timerType==o.Pomodoro&&(i.store("cur_break",+i.load("cur_break")+1),i.load("cur_break")<i.load("max_break")&&n.shortBreakButton.click(),i.load("cur_break")>=i.load("max_break")&&(i.store("cur_break",0),n.longBreakButton.click()))),n.resetTitle(),i.loadBoolean("enable-notification")&&n.constructNotification())}),1e3))},e.prototype.stopTimer=function(){this.is_ticking=!1,clearInterval(this.interval)},e.prototype.resetTimer=function(){this.stopTimer(),this.updateTimer(this.time)},e.prototype.updateTimer=function(e,t){this.stopTimer(),this.time=e,this.timerType=t;var n=e.toString();e<10&&(n=0+n),this.timer.textContent=n,this.timerSub.textContent="00",this.initTimer()},e.prototype.registerButtonhandle=function(e){e.addEventListener("click",(function(){document.querySelectorAll(".timer").forEach((function(e){return e.classList.remove("activated")})),e.classList.add("activated")}))},e.prototype.overlayFadeIn=function(){document.querySelector("#overlay").classList.remove("hidden"),this.animateCSS("#overlay","bounceInDown",null)},e.prototype.overlayFadeOut=function(){var e=document.querySelector("#overlay");this.animateCSS("#overlay","bounceOutUp",(function(){e.classList.add("hidden")})),this.is_ticking||this.refreshCurrentAlarm()},e.prototype.animateCSS=function(e,t,n){var o=document.querySelector(e);o.classList.add("animated",t),o.addEventListener("animationend",(function e(){o.classList.remove("animated",t),o.removeEventListener("animationend",e),"function"==typeof n&&n()}))},e.prototype.indexAlarms=function(){["-","Owl","Duck"].forEach((function(e){var t=document.createElement("option");t.value=e.toLowerCase(),t.text=e,i.load("alarm")===e.toLowerCase()&&(t.selected=!0),document.querySelector("#custom-alarm").add(t)}))},e.prototype.refreshCurrentAlarm=function(){this.timerType==o.Pomodoro&&this.pomodoroButton.click(),this.timerType==o.LongBreak&&this.longBreakButton.click(),this.timerType==o.ShortBreak&&this.shortBreakButton.click()},e.prototype.refreshTitle=function(e){document.title="BologneseTime - "+e},e.prototype.resetTitle=function(){document.title="BologneseTime"},e.prototype.initSettings=function(){i.storeIfNull("pomodoro",25),i.storeIfNull("long-break",20),i.storeIfNull("short-break",5),i.storeIfNull("alarm","owl"),i.storeIfNull("volume",.5),i.storeIfNull("pomodoro_auto",!1),i.storeIfNull("max_break",4),i.storeIfNull("cur_break",0),i.storeIfNull("tab-timer",!1),i.storeIfNull("infinite-alarm",!1),i.storeIfNull("enable-notification",!1)},e.prototype.constructNotification=function(){if("granted"===Notification.permission){var e=this.timerType.toString()+" finished!",t="Your timer has finished!";if(i.loadBoolean("pomodoro_auto")){var n=+i.load("cur_break"),o=+i.load("max_break"),r=o-n;t="Just "+r+" more pomodoro session(s) till a long break!",r===o&&(t="You've earned you a long break!")}this.notification=new Notification(e,{body:t,icon:"android-chrome-192x192.png"})}},e}();window.addEventListener("DOMContentLoaded",(function(){new a(i.load("pomodoro"))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy90cy90aW1lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiSG93bGVyR2xvYmFsIiwidGhpcyIsImluaXQiLCJzZWxmIiwiSG93bGVyIiwiX2NvdW50ZXIiLCJfaHRtbDVBdWRpb1Bvb2wiLCJodG1sNVBvb2xTaXplIiwiX2NvZGVjcyIsIl9ob3dscyIsIl9tdXRlZCIsIl92b2x1bWUiLCJfY2FuUGxheUV2ZW50IiwiX25hdmlnYXRvciIsIndpbmRvdyIsIm5hdmlnYXRvciIsIm1hc3RlckdhaW4iLCJub0F1ZGlvIiwidXNpbmdXZWJBdWRpbyIsImF1dG9TdXNwZW5kIiwiY3R4IiwiYXV0b1VubG9jayIsIl9zZXR1cCIsInZvbHVtZSIsInZvbCIsInBhcnNlRmxvYXQiLCJzZXR1cEF1ZGlvQ29udGV4dCIsImdhaW4iLCJzZXRWYWx1ZUF0VGltZSIsImN1cnJlbnRUaW1lIiwibGVuZ3RoIiwiX3dlYkF1ZGlvIiwiaWRzIiwiX2dldFNvdW5kSWRzIiwiaiIsInNvdW5kIiwiX3NvdW5kQnlJZCIsIl9ub2RlIiwibXV0ZSIsIm11dGVkIiwidW5sb2FkIiwiY2xvc2UiLCJjb2RlY3MiLCJleHQiLCJyZXBsYWNlIiwic3RhdGUiLCJfYXV0b1N1c3BlbmQiLCJBdWRpbyIsIm9uY2FucGxheXRocm91Z2giLCJlIiwiX3NldHVwQ29kZWNzIiwiYXVkaW9UZXN0IiwiZXJyIiwiY2FuUGxheVR5cGUiLCJtcGVnVGVzdCIsImNoZWNrT3BlcmEiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsImlzT2xkT3BlcmEiLCJwYXJzZUludCIsInNwbGl0IiwibXAzIiwibXBlZyIsIm9wdXMiLCJvZ2ciLCJvZ2EiLCJ3YXYiLCJhYWMiLCJjYWYiLCJtNGEiLCJtcDQiLCJ3ZWJhIiwid2VibSIsImRvbGJ5IiwiZmxhYyIsIl91bmxvY2tBdWRpbyIsIl9hdWRpb1VubG9ja2VkIiwiX21vYmlsZVVubG9hZGVkIiwic2FtcGxlUmF0ZSIsIl9zY3JhdGNoQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwidW5sb2NrIiwiYXVkaW9Ob2RlIiwiX3VubG9ja2VkIiwiX3JlbGVhc2VIdG1sNUF1ZGlvIiwibG9hZCIsIl9hdXRvUmVzdW1lIiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJub3RlT24iLCJyZXN1bWUiLCJvbmVuZGVkIiwiZGlzY29ubmVjdCIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9lbWl0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vYnRhaW5IdG1sNUF1ZGlvIiwicG9wIiwidGVzdFBsYXkiLCJwbGF5IiwiUHJvbWlzZSIsInRoZW4iLCJjYXRjaCIsImNvbnNvbGUiLCJ3YXJuIiwiYXVkaW8iLCJwdXNoIiwic3VzcGVuZCIsIl9zb3VuZHMiLCJfcGF1c2VkIiwiX3N1c3BlbmRUaW1lciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJfcmVzdW1lQWZ0ZXJTdXNwZW5kIiwiSG93bCIsInNyYyIsImVycm9yIiwiX2F1dG9wbGF5IiwiYXV0b3BsYXkiLCJfZm9ybWF0IiwiZm9ybWF0IiwiX2h0bWw1IiwiaHRtbDUiLCJfbG9vcCIsImxvb3AiLCJfcG9vbCIsInBvb2wiLCJfcHJlbG9hZCIsInByZWxvYWQiLCJfcmF0ZSIsInJhdGUiLCJfc3ByaXRlIiwic3ByaXRlIiwiX3NyYyIsInVuZGVmaW5lZCIsIl94aHJXaXRoQ3JlZGVudGlhbHMiLCJ4aHJXaXRoQ3JlZGVudGlhbHMiLCJfZHVyYXRpb24iLCJfc3RhdGUiLCJfZW5kVGltZXJzIiwiX3F1ZXVlIiwiX3BsYXlMb2NrIiwiX29uZW5kIiwib25lbmQiLCJmbiIsIl9vbmZhZGUiLCJvbmZhZGUiLCJfb25sb2FkIiwib25sb2FkIiwiX29ubG9hZGVycm9yIiwib25sb2FkZXJyb3IiLCJfb25wbGF5ZXJyb3IiLCJvbnBsYXllcnJvciIsIl9vbnBhdXNlIiwib25wYXVzZSIsIl9vbnBsYXkiLCJvbnBsYXkiLCJfb25zdG9wIiwib25zdG9wIiwiX29ubXV0ZSIsIm9ubXV0ZSIsIl9vbnZvbHVtZSIsIm9udm9sdW1lIiwiX29ucmF0ZSIsIm9ucmF0ZSIsIl9vbnNlZWsiLCJvbnNlZWsiLCJfb251bmxvY2siLCJvbnVubG9jayIsIl9vbnJlc3VtZSIsImV2ZW50IiwiYWN0aW9uIiwidXJsIiwic3RyIiwiZXhlYyIsInRvTG93ZXJDYXNlIiwibG9jYXRpb24iLCJwcm90b2NvbCIsInNsaWNlIiwiU291bmQiLCJsb2FkQnVmZmVyIiwiaW50ZXJuYWwiLCJpZCIsIm51bSIsIl9lbmRlZCIsIl9pZCIsIl9pbmFjdGl2ZVNvdW5kIiwic291bmRJZCIsIl9sb2FkUXVldWUiLCJzZWVrIiwiTWF0aCIsIm1heCIsIl9zZWVrIiwiZHVyYXRpb24iLCJ0aW1lb3V0IiwiYWJzIiwic3RvcCIsInNldFBhcmFtcyIsIl9zdGFydCIsIl9zdG9wIiwibm9kZSIsInBsYXlXZWJBdWRpbyIsIl9yZWZyZXNoQnVmZmVyIiwiX3BsYXlTdGFydCIsImJ1ZmZlclNvdXJjZSIsIm5vdGVHcmFpbk9uIiwiSW5maW5pdHkiLCJvbmNlIiwiX2NsZWFyVGltZXIiLCJwbGF5SHRtbDUiLCJwbGF5YmFja1JhdGUiLCJwYXVzZWQiLCJsb2FkZWROb1JlYWR5U3RhdGUiLCJlamVjdGEiLCJyZWFkeVN0YXRlIiwiaXNDb2Nvb25KUyIsImxpc3RlbmVyIiwicGF1c2UiLCJfcmF0ZVNlZWsiLCJfc3RvcEZhZGUiLCJub3RlT2ZmIiwiX2NsZWFuQnVmZmVyIiwiaXNOYU4iLCJhcmd1bWVudHMiLCJfY2xlYXJTb3VuZCIsIl9pbnRlcnZhbCIsImFyZ3MiLCJpbmRleCIsImluZGV4T2YiLCJhcHBseSIsImZhZGUiLCJmcm9tIiwidG8iLCJsZW4iLCJlbmQiLCJsaW5lYXJSYW1wVG9WYWx1ZUF0VGltZSIsIl9zdGFydEZhZGVJbnRlcnZhbCIsImlzR3JvdXAiLCJkaWZmIiwic3RlcHMiLCJzdGVwTGVuIiwibGFzdFRpY2siLCJEYXRlIiwibm93IiwiX2ZhZGVUbyIsInNldEludGVydmFsIiwidGljayIsIm1pbiIsInJvdW5kIiwiY2xlYXJJbnRlcnZhbCIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsImxvb3BTdGFydCIsImxvb3BFbmQiLCJwbGF5aW5nIiwicmVhbFRpbWUiLCJyYXRlU2VlayIsInNlZWtBbmRFbWl0IiwiZW1pdFNlZWsiLCJzb3VuZHMiLCJfZXJyb3JGbiIsIl9sb2FkRm4iLCJzcGxpY2UiLCJyZW1DYWNoZSIsImNhY2hlIiwib24iLCJldmVudHMiLCJvZmYiLCJpc0lkIiwia2V5cyIsIkFycmF5IiwiaXNBcnJheSIsIm1zZyIsInRhc2siLCJzaGlmdCIsImVuZGVkIiwiX2RyYWluIiwicmVzZXQiLCJsaW1pdCIsImNudCIsIl9wYW5uZXIiLCJpc0lPUyIsInZlbmRvciIsInRlc3QiLCJob3dsIiwiX3BhcmVudCIsInBhcmVudCIsImNyZWF0ZUdhaW4iLCJjcmVhdGVHYWluTm9kZSIsIl9lcnJvckxpc3RlbmVyIiwiX2xvYWRMaXN0ZW5lciIsImNvZGUiLCJjZWlsIiwiX19kZWZhdWx0IiwibG9hZFNvdW5kIiwiZGF0YSIsImF0b2IiLCJkYXRhVmlldyIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwiZGVjb2RlQXVkaW9EYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwid2l0aENyZWRlbnRpYWxzIiwicmVzcG9uc2VUeXBlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJvbmVycm9yIiwic2FmZVhoclNlbmQiLCJzZW5kIiwiYXJyYXlidWZmZXIiLCJzdWNjZXNzIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiaU9TIiwicGxhdGZvcm0iLCJhcHBWZXJzaW9uIiwidmVyc2lvbiIsInNhZmFyaSIsInN0YW5kYWxvbmUiLCJnbG9iYWwiLCJfc3VwZXIiLCJfcG9zIiwiX29yaWVudGF0aW9uIiwic3RlcmVvIiwicGFuIiwicG9zIiwieCIsInkiLCJ6IiwicG9zaXRpb25YIiwic2V0VGFyZ2V0QXRUaW1lIiwicG9zaXRpb25ZIiwicG9zaXRpb25aIiwic2V0UG9zaXRpb24iLCJvcmllbnRhdGlvbiIsInhVcCIsInlVcCIsInpVcCIsIm9yIiwiZm9yd2FyZFgiLCJmb3J3YXJkWSIsImZvcndhcmRaIiwidXBYIiwidXBZIiwidXBaIiwic2V0T3JpZW50YXRpb24iLCJfc3RlcmVvIiwiX3Bhbm5lckF0dHIiLCJjb25lSW5uZXJBbmdsZSIsImNvbmVPdXRlckFuZ2xlIiwiY29uZU91dGVyR2FpbiIsImRpc3RhbmNlTW9kZWwiLCJtYXhEaXN0YW5jZSIsInBhbm5pbmdNb2RlbCIsInJlZkRpc3RhbmNlIiwicm9sbG9mZkZhY3RvciIsIl9vbnN0ZXJlbyIsIm9uc3RlcmVvIiwiX29ucG9zIiwib25wb3MiLCJfb25vcmllbnRhdGlvbiIsIm9ub3JpZW50YXRpb24iLCJwYW5uZXJUeXBlIiwiY3JlYXRlU3RlcmVvUGFubmVyIiwic2V0dXBQYW5uZXIiLCJvcmllbnRhdGlvblgiLCJvcmllbnRhdGlvblkiLCJvcmllbnRhdGlvbloiLCJwYW5uZXJBdHRyIiwiX2NvbmVJbm5lckFuZ2xlIiwiX2NvbmVPdXRlckFuZ2xlIiwiX2NvbmVPdXRlckdhaW4iLCJfZGlzdGFuY2VNb2RlbCIsIl9tYXhEaXN0YW5jZSIsIl9yZWZEaXN0YW5jZSIsIl9yb2xsb2ZmRmFjdG9yIiwiX3Bhbm5pbmdNb2RlbCIsInBhIiwicGFubmVyIiwidHlwZSIsImNyZWF0ZVBhbm5lciIsImciLCJGdW5jdGlvbiIsIlRpbWVyIiwiZXhpc3RzIiwibG9jYWxTdG9yYWdlIiwic3RvcmUiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsImxvYWRCb29sZWFuIiwiSlNPTiIsInBhcnNlIiwiU2V0dGluZ3MiLCJleGlzdCIsInN0b3JlSWZOdWxsIiwidGltZSIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsImxvZyIsInNjb3BlIiwiaW5pdFNldHRpbmdzIiwidGl0bGUiLCJxdWVyeVNlbGVjdG9yIiwic3ViVGl0bGUiLCJ0aW1lclR5cGUiLCJQb21vZG9ybyIsInRpbWVyIiwidGltZXJTdWIiLCJwb21vZG9yb0J1dHRvbiIsInVwZGF0ZVRpbWVyIiwibG9uZ0JyZWFrQnV0dG9uIiwiTG9uZ0JyZWFrIiwic2hvcnRCcmVha0J1dHRvbiIsIlNob3J0QnJlYWsiLCJwb21vZG9yb0F1dG9DaGVja2JveCIsImNoZWNrZWQiLCJwb21vZG9yb0JyZWFrc0lucHV0IiwiYWxhcm1PdmVybGF5IiwiYW5pbWF0ZUNTUyIsImNsYXNzTGlzdCIsImFkZCIsImFsYXJtIiwiaW5maW5pdGVBbGFybUNoZWNrYm94IiwidGFiVGltZXJDaGVja2JveCIsIm5vdGlmaWNhdGlvbkNoZWNrYm94IiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiZXYiLCJpbm5lckhUTUwiLCJzdGFydFRpbWVyIiwic3RvcFRpbWVyIiwicmVzZXRUaW1lciIsIm92ZXJsYXlGYWRlSW4iLCJvdmVybGF5RmFkZU91dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbSIsInJlZ2lzdGVyQnV0dG9uaGFuZGxlIiwiaW5kZXhBbGFybXMiLCJyZW1vdmUiLCJpbml0VGltZXIiLCJjb3VudGVyIiwiZGlzcGxheSIsInN1Yl9kaXMiLCJpc190aWNraW5nIiwicHJlIiwic3ViIiwiaW50ZXJ2YWwiLCJmbG9vciIsInRvU3RyaW5nIiwidGV4dENvbnRlbnQiLCJyZWZyZXNoVGl0bGUiLCJjbGljayIsInJlc2V0VGl0bGUiLCJjb25zdHJ1Y3ROb3RpZmljYXRpb24iLCJlbGVtZW50IiwiYnRuIiwicmVmcmVzaEN1cnJlbnRBbGFybSIsImFuaW1hdGlvbk5hbWUiLCJjYWxsYmFjayIsImhhbmRsZUFuaW1hdGlvbkVuZCIsImEiLCJhbHIiLCJjcmVhdGVFbGVtZW50IiwidGV4dCIsInNlbGVjdGVkIiwibm90aWZpY2F0aW9uIiwiYm9keSIsImljb24iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNO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WUFBWSxrQkFBa0IsR0FDdkNGLEVBQVNFLFlBQVksdUJBQXVCLElBR2hELFlBQUE4RCxzQkFBQSxXQUNJLEdBQWdDLFlBQTVCOUIsYUFBYUMsV0FBMEIsQ0FDdkMsSUFBSXpCLEVBQVF2WixLQUFLMFosVUFBVThDLFdBQWEsYUFDcENlLEVBQU8sMkJBQ1gsR0FBSTFFLEVBQVNILFlBQVksaUJBQWtCLENBQ3ZDLElBQUl0YSxHQUFLeWEsRUFBU3pULEtBQUssYUFDbkJqSCxHQUFLMGEsRUFBU3pULEtBQUssYUFDbkIvRyxFQUFJRixFQUFJQyxFQUVabWYsRUFBTyxRQUFVbGYsRUFBSSwrQ0FDakJBLElBQU1GLElBQ05vZixFQUFPLG1DQUlmdmQsS0FBS3lkLGFBQWUsSUFBSTFDLGFBQWF4QixFQUFPLENBQ3hDbUUsS0FBTUgsRUFDTkksS0FBTSxpQ0FJdEIsRUExWEEsR0E0WEE5YyxPQUFPc0YsaUJBQWlCLG9CQUFvQixXQUN4QyxJQUFJLEVBQVUwUyxFQUFTelQsS0FBSyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCIvKiFcbiAqICBob3dsZXIuanMgdjIuMS4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciBjaGVja09wZXJhID0gc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcblxuICAgICAgc2VsZi5fY29kZWNzID0ge1xuICAgICAgICBtcDM6ICEhKCFpc09sZE9wZXJhICYmIChtcGVnVGVzdCB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wMzsnKS5yZXBsYWNlKC9ebm8kLywgJycpKSksXG4gICAgICAgIG1wZWc6ICEhbXBlZ1Rlc3QsXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG9nZzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2E6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgd2F2OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBhYWM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgY2FmOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1jYWY7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbTRhOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtcDQ6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYmE6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYm06ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGRvbGJ5OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIGJyb3dzZXJzL2RldmljZXMgd2lsbCBvbmx5IGFsbG93IGF1ZGlvIHRvIGJlIHBsYXllZCBhZnRlciBhIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHVubG9jayBhdWRpbyBvbiB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cbiAgICAgIGlmIChzZWxmLl9hdWRpb1VubG9ja2VkIHx8ICFzZWxmLmN0eCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxuICAgICAgICAvLyBiZSB1c2VkIGZvciBwbGF5aW5nIHNvdW5kcyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uIEhUTUw1XG4gICAgICAgIC8vIEF1ZGlvIG9iamVjdHMgbXVzdCBiZSBpbmRpdmlkdWFsbHkgdW5sb2NrZWQsIGFzIG9wcG9zZWRcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXG4gICAgICAgIC8vIFRoaXMgbXVzdCBvY2N1ciBiZWZvcmUgV2ViQXVkaW8gc2V0dXAgb3IgdGhlIHNvdXJjZS5vbmVuZGVkXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgbm90IGZpcmUuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLmh0bWw1UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Ob2RlID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBBdWRpbyBvYmplY3QgYXMgdW5sb2NrZWQgdG8gZW5zdXJlIGl0IGNhbiBnZXQgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vIHRvIHRoZSB1bmxvY2tlZCBwb29sIHdoZW4gcmVsZWFzZWQuXG4gICAgICAgICAgICBhdWRpb05vZGUuX3VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gQWRkIHRoZSBhdWRpbyBub2RlIHRvIHRoZSBwb29sLlxuICAgICAgICAgICAgc2VsZi5fcmVsZWFzZUh0bWw1QXVkaW8oYXVkaW9Ob2RlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbnkgYXNzaWduZWQgYXVkaW8gbm9kZXMgYW5kIHVubG9jayB0aGVtLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIHVubG9jayB0aGUgYXVkaW8gbm9kZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLl91bmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUubG9hZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRml4IEFuZHJvaWQgY2FuIG5vdCBwbGF5IGluIHN1c3BlbmQgc3RhdGUuXG4gICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyLlxuICAgICAgICB2YXIgc291cmNlID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChzZWxmLmN0eC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzb3VyY2Uubm90ZU9uKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxpbmcgcmVzdW1lKCkgb24gYSBzdGFjayBpbml0aWF0ZWQgYnkgdXNlciBnZXN0dXJlIGlzIHdoYXQgYWN0dWFsbHkgdW5sb2NrcyB0aGUgYXVkaW8gb24gQW5kcm9pZCBDaHJvbWUgPj0gNTUuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgICAgIC8vIExldCBhbGwgc291bmRzIGtub3cgdGhhdCBhdWRpbyBoYXMgYmVlbiB1bmxvY2tlZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBhIHRvdWNoIHN0YXJ0IGxpc3RlbmVyIHRvIGF0dGVtcHQgYW4gdW5sb2NrIGluLlxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDAwMCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicpID8gby5wcmVsb2FkIDogdHJ1ZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IG8uc3ByaXRlIHx8IHt9O1xuICAgICAgc2VsZi5fc3JjID0gKHR5cGVvZiBvLnNyYyAhPT0gJ3N0cmluZycpID8gby5zcmMgOiBbby5zcmNdO1xuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcbiAgICAgIHNlbGYuX3hocldpdGhDcmVkZW50aWFscyA9IG8ueGhyV2l0aENyZWRlbnRpYWxzIHx8IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBhbGwgb3RoZXIgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fZHVyYXRpb24gPSAwO1xuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmLl9lbmRUaW1lcnMgPSB7fTtcbiAgICAgIHNlbGYuX3F1ZXVlID0gW107XG4gICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbmVuZCA9IG8ub25lbmQgPyBbe2ZuOiBvLm9uZW5kfV0gOiBbXTtcbiAgICAgIHNlbGYuX29uZmFkZSA9IG8ub25mYWRlID8gW3tmbjogby5vbmZhZGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkID0gby5vbmxvYWQgPyBbe2ZuOiBvLm9ubG9hZH1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWRlcnJvciA9IG8ub25sb2FkZXJyb3IgPyBbe2ZuOiBvLm9ubG9hZGVycm9yfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheWVycm9yID0gby5vbnBsYXllcnJvciA/IFt7Zm46IG8ub25wbGF5ZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wYXVzZSA9IG8ub25wYXVzZSA/IFt7Zm46IG8ub25wYXVzZX1dIDogW107XG4gICAgICBzZWxmLl9vbnBsYXkgPSBvLm9ucGxheSA/IFt7Zm46IG8ub25wbGF5fV0gOiBbXTtcbiAgICAgIHNlbGYuX29uc3RvcCA9IG8ub25zdG9wID8gW3tmbjogby5vbnN0b3B9XSA6IFtdO1xuICAgICAgc2VsZi5fb25tdXRlID0gby5vbm11dGUgPyBbe2ZuOiBvLm9ubXV0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnZvbHVtZSA9IG8ub252b2x1bWUgPyBbe2ZuOiBvLm9udm9sdW1lfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmF0ZSA9IG8ub25yYXRlID8gW3tmbjogby5vbnJhdGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zZWVrID0gby5vbnNlZWsgPyBbe2ZuOiBvLm9uc2Vla31dIDogW107XG4gICAgICBzZWxmLl9vbnVubG9jayA9IG8ub251bmxvY2sgPyBbe2ZuOiBvLm9udW5sb2NrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XG5cbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8uXG4gICAgICBpZiAodHlwZW9mIEhvd2xlci5jdHggIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHggJiYgSG93bGVyLmF1dG9VbmxvY2spIHtcbiAgICAgICAgSG93bGVyLl91bmxvY2tBdWRpbygpO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgSG93bCBncm91cCBpbiB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuXG4gICAgICBIb3dsZXIuX2hvd2xzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIElmIHRoZXkgc2VsZWN0ZWQgYXV0b3BsYXksIGFkZCBhIHBsYXkgZXZlbnQgdG8gdGhlIGxvYWQgcXVldWUuXG4gICAgICBpZiAoc2VsZi5fYXV0b3BsYXkpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9hZCB0aGUgc291cmNlIGZpbGUgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAgICBpZiAoc2VsZi5fcHJlbG9hZCkge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuIFxuICAgICAgICAvLyBJZiB0aGVyZSBpcywgcGxheSB0aGF0IHNvdW5kLiBJZiBub3QsIGNvbnRpbnVlIGFzIHVzdWFsLiAgXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgcGxheVdlYkF1ZGlvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGF1ZGlvIGNvbnRleHQgdG8gcmVzdW1lIGJlZm9yZSBwbGF5aW5nLlxuICAgICAgICAgIHNlbGYub25jZSgncmVzdW1lJywgcGxheVdlYkF1ZGlvKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwbGF5ID0gbm9kZS5wbGF5KCk7XG5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByb21pc2VzLCBhbmQgdGh1cyBkb24ndCBoYXZlIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICBpZiAocGxheSAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiBwbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgIC8vIEltcGxlbWVudHMgYSBsb2NrIHRvIHByZXZlbnQgRE9NRXhjZXB0aW9uOiBUaGUgcGxheSgpIHJlcXVlc3Qgd2FzIGludGVycnVwdGVkIGJ5IGEgY2FsbCB0byBwYXVzZSgpLlxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAgICAgLy8gU2V0IHBhcmFtIHZhbHVlcyBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XG5cbiAgICAgICAgICAgICAgLy8gUmVsZWFzZXMgdGhlIGxvY2sgYW5kIGV4ZWN1dGVzIHF1ZXVlZCBhY3Rpb25zLlxuICAgICAgICAgICAgICBwbGF5XG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldHRpbmcgcmF0ZSBiZWZvcmUgcGxheWluZyB3b24ndCB3b3JrIGluIElFLCBzbyB3ZSBzZXQgaXQgYWdhaW4gaGVyZS5cbiAgICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIGlzIHN0aWxsIHBhdXNlZCwgdGhlbiB3ZSBjYW4gYXNzdW1lIHRoZXJlIHdhcyBhIHBsYXliYWNrIGlzc3VlLlxuICAgICAgICAgICAgaWYgKG5vZGUucGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgJ1BsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSAnICtcbiAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGVuZCB0aW1lciBvbiBzcHJpdGVzIG9yIGxpc3RlbiBmb3IgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgICAgICAgaWYgKHNwcml0ZSAhPT0gJ19fZGVmYXVsdCcgfHwgc291bmQuX2xvb3ApIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSBlbmRlZCBvbiB0aGlzIGF1ZGlvIG5vZGUuXG4gICAgICAgICAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgc3RyZWFtaW5nIGF1ZGlvLCBtYWtlIHN1cmUgdGhlIHNyYyBpcyBzZXQgYW5kIGxvYWQgYWdhaW4uXG4gICAgICAgIGlmIChub2RlLnNyYyA9PT0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJykge1xuICAgICAgICAgIG5vZGUuc3JjID0gc2VsZi5fc3JjO1xuICAgICAgICAgIG5vZGUubG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGxheSBpbW1lZGlhdGVseSBpZiByZWFkeSwgb3Igd2FpdCBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCdlIHZlbnQuXG4gICAgICAgIHZhciBsb2FkZWROb1JlYWR5U3RhdGUgPSAod2luZG93ICYmIHdpbmRvdy5lamVjdGEpIHx8ICghbm9kZS5yZWFkeVN0YXRlICYmIEhvd2xlci5fbmF2aWdhdG9yLmlzQ29jb29uSlMpO1xuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID49IDMgfHwgbG9hZGVkTm9SZWFkeVN0YXRlKSB7XG4gICAgICAgICAgcGxheUh0bWw1KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBCZWdpbiBwbGF5YmFjay5cbiAgICAgICAgICAgIHBsYXlIdG1sNSgpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzb3VuZC5faWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhdXNlIHBsYXliYWNrIGFuZCBzYXZlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHBhdXNlIGFsbCBpbiBncm91cCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBwYXVzZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQgb3IgYSBwbGF5KCkgcHJvbWlzZSBpcyBwZW5kaW5nLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSB0aGUgcGF1c2UgZXZlbnQsIHVubGVzcyBgdHJ1ZWAgaXMgcGFzc2VkIGFzIHRoZSAybmQgYXJndW1lbnQuXG4gICAgICAgIGlmICghYXJndW1lbnRzWzFdKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdCgncGF1c2UnLCBzb3VuZCA/IHNvdW5kLl9pZCA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdG9wIHBsYXliYWNrIGFuZCByZXNldCB0byBzdGFydC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gc3RvcCBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihpZCwgaW50ZXJuYWwpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzdG9wIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdzdG9wJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zdG9wKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBzdG9wcGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kJ3MgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBsaXZlIHN0cmVhbSwgc3RvcCBkb3dubG9hZCBvbmNlIHRoZSBhdWRpbyBpcyBzdG9wcGVkLlxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzdG9wJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11dGUvdW5tdXRlIGEgc2luZ2xlIHNvdW5kIG9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIFNldCB0byB0cnVlIHRvIG11dGUgYW5kIGZhbHNlIHRvIHVubXV0ZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFRoZSBzb3VuZCBJRCB0byB1cGRhdGUgKG9taXQgdG8gbXV0ZS91bm11dGUgYWxsKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIG11dGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnbXV0ZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYubXV0ZShtdXRlZCwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGFwcGx5aW5nIG11dGUvdW5tdXRlIHRvIGFsbCBzb3VuZHMsIHVwZGF0ZSB0aGUgZ3JvdXAncyB2YWx1ZS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbXV0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX211dGVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIG11dGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICBzb3VuZC5fbXV0ZWQgPSBtdXRlZDtcblxuICAgICAgICAgIC8vIENhbmNlbCBhY3RpdmUgZmFkZSBhbmQgc2V0IHRoZSB2b2x1bWUgdG8gdGhlIGVuZCB2YWx1ZS5cbiAgICAgICAgICBpZiAoc291bmQuX2ludGVydmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShzb3VuZC5faWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzb3VuZC5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IEhvd2xlci5fbXV0ZWQgPyB0cnVlIDogbXV0ZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnbXV0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNvdW5kIG9yIG9mIHRoZSBIb3dsIGdyb3VwLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICB2b2x1bWUoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZvbHVtZSB2YWx1ZS5cbiAgICAgKiAgIHZvbHVtZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHZvbHVtZS5cbiAgICAgKiAgIHZvbHVtZSh2b2wpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHZvbHVtZSh2b2wsIGlkKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHZvbCwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBncm91cHMnIHZvbHVtZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyB2b2x1bWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIG9yIHJldHVybiB0aGUgY3VycmVudCB2b2x1bWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugdm9sdW1lIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzZWQsIGFsbCBzb3VuZHMgd2lsbCBmYWRlKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyb20gVGhlIHZhbHVlIHRvIGZhZGUgZnJvbSAoMC4wIHRvIDEuMCkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0byAgIFRoZSB2b2x1bWUgdG8gZmFkZSB0byAoMC4wIHRvIDEuMCkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBsZW4gIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgIFRoZSBzb3VuZCBpZCAob21pdCB0byBmYWRlIGFsbCBzb3VuZHMpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgZmFkZTogZnVuY3Rpb24oZnJvbSwgdG8sIGxlbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBmYWRlIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdmYWRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5mYWRlKGZyb20sIHRvLCBsZW4sIGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIHRvL2Zyb20vbGVuIHZhbHVlcyBhcmUgbnVtYmVycy5cbiAgICAgIGZyb20gPSBwYXJzZUZsb2F0KGZyb20pO1xuICAgICAgdG8gPSBwYXJzZUZsb2F0KHRvKTtcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdm9sID0gZnJvbTtcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdm9sdW1lIGlzIGluIHRoZSByaWdodCBib3VuZHMuXG4gICAgICAgIHZvbCA9IE1hdGgubWF4KDAsIHZvbCk7XG4gICAgICAgIHZvbCA9IE1hdGgubWluKDEsIHZvbCk7XG5cbiAgICAgICAgLy8gUm91bmQgdG8gd2l0aGluIDIgZGVjaW1hbCBwb2ludHMuXG4gICAgICAgIHZvbCA9IE1hdGgucm91bmQodm9sICogMTAwKSAvIDEwMDtcblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBMZW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgcmF0ZSgpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUocmF0ZSkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHJhdGUocmF0ZSwgaWQpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKi9cbiAgICByYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHJhdGUsIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHJhdGUgb2YgdGhlIGZpcnN0IG5vZGUuXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHJhdGUgdmFsdWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHJhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBsYXliYWNrIHJhdGUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3JhdGUnLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi5yYXRlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHJhdGUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcmF0ZSA9IHJhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIHBvc2l0aW9uIHdoZW4gdGhlIHJhdGUgY2hhbmdlZCBhbmQgdXBkYXRlIHRoZSBwbGF5YmFja1xuICAgICAgICAgICAgLy8gc3RhcnQgcG9zaXRpb24gc28gd2UgY2FuIHByb3Blcmx5IGFkanVzdCB0aGUgc2VlayBwb3NpdGlvbiBmb3IgdGltZSBlbGFwc2VkLlxuICAgICAgICAgICAgaWYgKHNlbGYucGxheWluZyhpZFtpXSkpIHtcbiAgICAgICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcbiAgICAgICAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IHNlbGYuX3dlYkF1ZGlvID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSA6IHNvdW5kLl9wbGF5U3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VuZC5fcmF0ZSA9IHJhdGU7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgcGxheWJhY2sgcmF0ZS5cbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShyYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGxheWJhY2tSYXRlID0gcmF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVycy5cbiAgICAgICAgICAgIHZhciBzZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9ICgoc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzFdKSAvIDEwMDApIC0gc2VlaztcbiAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gKGR1cmF0aW9uICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IGVuZCB0aW1lciBpZiBzb3VuZCBpcyBhbHJlYWR5IHBsYXlpbmcuXG4gICAgICAgICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkW2ldXSB8fCAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkW2ldKTtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW2lkW2ldXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdyYXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3JhdGUgOiBzZWxmLl9yYXRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgc2VlayBwb3NpdGlvbiBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICBzZWVrKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKiAgIHNlZWsoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhzZWVrKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBzb3VuZCBub2RlLlxuICAgICAqICAgc2VlayhzZWVrLCBpZCkgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIHNlZWs6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgc2VlaywgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG5vZGUuXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG5cbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gUmVsZWFzZSB0aGUgQXVkaW8gb2JqZWN0IGJhY2sgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgSG93bGVyLl9yZWxlYXNlSHRtbDVBdWRpbyhzb3VuZHNbaV0uX25vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW1wdHkgb3V0IGFsbCBvZiB0aGUgbm9kZXMuXG4gICAgICAgIGRlbGV0ZSBzb3VuZHNbaV0uX25vZGU7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCB0aW1lcnMgYXJlIGNsZWFyZWQgb3V0LlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kc1tpXS5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZXMgaW4gdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAgdmFyIGluZGV4ID0gSG93bGVyLl9ob3dscy5pbmRleE9mKHNlbGYpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgSG93bGVyLl9ob3dscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWxldGUgdGhpcyBzb3VuZCBmcm9tIHRoZSBjYWNoZSAoaWYgbm8gb3RoZXIgSG93bCBpcyB1c2luZyBpdCkuXG4gICAgICB2YXIgcmVtQ2FjaGUgPSB0cnVlO1xuICAgICAgZm9yIChpPTA7IGk8SG93bGVyLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoSG93bGVyLl9ob3dsc1tpXS5fc3JjID09PSBzZWxmLl9zcmMgfHwgc2VsZi5fc3JjLmluZGV4T2YoSG93bGVyLl9ob3dsc1tpXS5fc3JjKSA+PSAwKSB7XG4gICAgICAgICAgcmVtQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2FjaGUgJiYgcmVtQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIGNhY2hlW3NlbGYuX3NyY107XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIGdsb2JhbCBlcnJvcnMuXG4gICAgICBIb3dsZXIubm9BdWRpbyA9IGZhbHNlO1xuXG4gICAgICAvLyBDbGVhciBvdXQgYHNlbGZgLlxuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmID0gbnVsbDtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gY2FsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IGxpc3RlbiB0byBldmVudHMgZm9yIHRoaXMgc291bmQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIG9uY2UgIChJTlRFUk5BTCkgTWFya3MgZXZlbnQgdG8gZmlyZSBvbmx5IG9uY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCwgb25jZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZlbnRzLnB1c2gob25jZSA/IHtpZDogaWQsIGZuOiBmbiwgb25jZTogb25jZX0gOiB7aWQ6IGlkLCBmbjogZm59KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGN1c3RvbSBldmVudC4gQ2FsbCB3aXRob3V0IHBhcmFtZXRlcnMgdG8gcmVtb3ZlIGFsbCBldmVudHMuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIHJlbW92ZS4gTGVhdmUgZW1wdHkgdG8gcmVtb3ZlIGFsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IHJlbW92ZSBldmVudHMgZm9yIHRoaXMgc291bmQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAvLyBBbGxvdyBwYXNzaW5nIGp1c3QgYW4gZXZlbnQgYW5kIElELlxuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWQgPSBmbjtcbiAgICAgICAgZm4gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm4gfHwgaWQpIHtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCByZW1vdmUgdGhlIHBhc3NlZCBmdW5jdGlvbi5cbiAgICAgICAgZm9yIChpPTA7IGk8ZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGlzSWQgPSAoaWQgPT09IGV2ZW50c1tpXS5pZCk7XG4gICAgICAgICAgaWYgKGZuID09PSBldmVudHNbaV0uZm4gJiYgaXNJZCB8fCAhZm4gJiYgaXNJZCkge1xuICAgICAgICAgICAgZXZlbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChldmVudCkge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiB0aGlzIHR5cGUuXG4gICAgICAgIHNlbGZbJ19vbicgKyBldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENsZWFyIG91dCBhbGwgZXZlbnRzIG9mIGV2ZXJ5IHR5cGUuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc2VsZik7XG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoKGtleXNbaV0uaW5kZXhPZignX29uJykgPT09IDApICYmIEFycmF5LmlzQXJyYXkoc2VsZltrZXlzW2ldXSkpIHtcbiAgICAgICAgICAgIHNlbGZba2V5c1tpXV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudCBhbmQgcmVtb3ZlIGl0IG9uY2UgZmlyZWQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb25jZTogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLm9uKGV2ZW50LCBmbiwgaWQsIDEpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW1pdCBhbGwgZXZlbnRzIG9mIGEgc3BlY2lmaWMgdHlwZSBhbmQgcGFzcyB0aGUgc291bmQgaWQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgU291bmQgSUQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBtc2cgICBNZXNzYWdlIHRvIGdvIHdpdGggZXZlbnQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW1pdDogZnVuY3Rpb24oZXZlbnQsIGlkLCBtc2cpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggZXZlbnQgc3RvcmUgYW5kIGZpcmUgYWxsIGZ1bmN0aW9ucy5cbiAgICAgIGZvciAodmFyIGk9ZXZlbnRzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBsaXN0ZW5lciBpZiB0aGUgY29ycmVjdCBJRCBpcyB1c2VkLlxuICAgICAgICBpZiAoIWV2ZW50c1tpXS5pZCB8fCBldmVudHNbaV0uaWQgPT09IGlkIHx8IGV2ZW50ID09PSAnbG9hZCcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGlkLCBtc2cpO1xuICAgICAgICAgIH0uYmluZChzZWxmLCBldmVudHNbaV0uZm4pLCAwKTtcblxuICAgICAgICAgIC8vIElmIHRoaXMgZXZlbnQgd2FzIHNldHVwIHdpdGggYG9uY2VgLCByZW1vdmUgaXQuXG4gICAgICAgICAgaWYgKGV2ZW50c1tpXS5vbmNlKSB7XG4gICAgICAgICAgICBzZWxmLm9mZihldmVudCwgZXZlbnRzW2ldLmZuLCBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXNzIHRoZSBldmVudCB0eXBlIGludG8gbG9hZCBxdWV1ZSBzbyB0aGF0IGl0IGNhbiBjb250aW51ZSBzdGVwcGluZy5cbiAgICAgIHNlbGYuX2xvYWRRdWV1ZShldmVudCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWV1ZSBvZiBhY3Rpb25zIGluaXRpYXRlZCBiZWZvcmUgdGhlIHNvdW5kIGhhcyBsb2FkZWQuXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcbiAgICAgKiBhZnRlciB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZyAoZXZlbiBpZiBhc3luYyBsaWtlIHBsYXkpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2xvYWRRdWV1ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX3F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRhc2sgPSBzZWxmLl9xdWV1ZVswXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhpcyB0YXNrIGlmIGEgbWF0Y2hpbmcgZXZlbnQgd2FzIHBhc3NlZC5cbiAgICAgICAgaWYgKHRhc2suZXZlbnQgPT09IGV2ZW50KSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgdGFzayBpZiBubyBldmVudCB0eXBlIGlzIHBhc3NlZC5cbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgIHRhc2suYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gcGxheWJhY2sgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3ByaXRlID0gc291bmQuX3Nwcml0ZTtcblxuICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIElFIGFuZCB0aGVyZSB3YXMgbmV0d29yayBsYXRlbmN5IHdlIG1heSBiZSBjbGlwcGluZ1xuICAgICAgLy8gYXVkaW8gYmVmb3JlIGl0IGNvbXBsZXRlcyBwbGF5aW5nLiBMZXRzIGNoZWNrIHRoZSBub2RlIHRvIG1ha2Ugc3VyZSBpdFxuICAgICAgLy8gYmVsaWV2ZXMgaXQgaGFzIGNvbXBsZXRlZCwgYmVmb3JlIGVuZGluZyB0aGUgcGxheWJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5wYXVzZWQgJiYgIXNvdW5kLl9ub2RlLmVuZGVkICYmIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lIDwgc291bmQuX3N0b3ApIHtcbiAgICAgICAgc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgMTAwKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCB0aGlzIHNvdW5kIGxvb3A/XG4gICAgICB2YXIgbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcblxuICAgICAgLy8gRmlyZSB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICBzZWxmLl9lbWl0KCdlbmQnLCBzb3VuZC5faWQpO1xuXG4gICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBmb3IgSFRNTDUgQXVkaW8gbG9vcC5cbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc3RhcnQgdGhpcyB0aW1lciBpZiBvbiBhIFdlYiBBdWRpbyBsb29wLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHZhciB0aW1lb3V0ID0gKChzb3VuZC5fc3RvcCAtIHNvdW5kLl9zdGFydCkgKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcbiAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFyayB0aGUgbm9kZSBhcyBwYXVzZWQuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYXV0by1zdXNwZW5kIEF1ZGlvQ29udGV4dCBpZiBubyBzb3VuZHMgYXJlIHN0aWxsIHBsYXlpbmcuXG4gICAgICAgIEhvd2xlci5fYXV0b1N1c3BlbmQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB1c2luZyBhIHNwcml0ZSwgZW5kIHRoZSB0cmFjay5cbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZW5kIHRpbWVyIGZvciBhIHNvdW5kIHBsYXliYWNrLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElELlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2NsZWFyVGltZXI6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRdKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IG9yIHJlbW92ZSB0aGUgZW5kZWQgbGlzdGVuZXIuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fZW5kVGltZXJzW2lkXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9lbmRUaW1lcnNbaWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbaWRdLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHNlbGYuX2VuZFRpbWVyc1tpZF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNvdW5kIGlkZW50aWZpZWQgYnkgdGhpcyBJRCwgb3IgcmV0dXJuIG51bGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBTb3VuZCBJRFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgU291bmQgb2JqZWN0IG9yIG51bGwuXG4gICAgICovXG4gICAgX3NvdW5kQnlJZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGZpbmQgdGhlIG9uZSB3aXRoIHRoaXMgSUQuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpZCA9PT0gc2VsZi5fc291bmRzW2ldLl9pZCkge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBpbmFjdGl2ZSBzb3VuZCBmcm9tIHRoZSBwb29sIG9yIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICogQHJldHVybiB7U291bmR9IFNvdW5kIHBsYXliYWNrIG9iamVjdC5cbiAgICAgKi9cbiAgICBfaW5hY3RpdmVTb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuX2RyYWluKCk7XG5cbiAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGluYWN0aXZlIG5vZGUgdG8gcmVjeWNsZS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaW5hY3RpdmUgbm9kZSB3YXMgZm91bmQsIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICByZXR1cm4gbmV3IFNvdW5kKHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmFpbiBleGNlc3MgaW5hY3RpdmUgc291bmRzIGZyb20gdGhlIHBvb2wuXG4gICAgICovXG4gICAgX2RyYWluOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBsaW1pdCA9IHNlbGYuX3Bvb2w7XG4gICAgICB2YXIgY250ID0gMDtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGxlc3Mgc291bmRzIHRoYW4gdGhlIG1heCBwb29sIHNpemUsIHdlIGFyZSBkb25lLlxuICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgaW5hY3RpdmUgc291bmRzLlxuICAgICAgZm9yIChpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgY250Kys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMsIGdvaW5nIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICBmb3IgKGk9c2VsZi5fc291bmRzLmxlbmd0aCAtIDE7IGk+PTA7IGktLSkge1xuICAgICAgICBpZiAoY250IDw9IGxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBhdWRpbyBzb3VyY2Ugd2hlbiB1c2luZyBXZWIgQXVkaW8uXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNlbGYuX3NvdW5kc1tpXS5fbm9kZSkge1xuICAgICAgICAgICAgc2VsZi5fc291bmRzW2ldLl9ub2RlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVtb3ZlIHNvdW5kcyB1bnRpbCB3ZSBoYXZlIHRoZSBwb29sIHNpemUuXG4gICAgICAgICAgc2VsZi5fc291bmRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBjbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIElEJ3MgZnJvbSB0aGUgc291bmRzIHBvb2wuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBPbmx5IHJldHVybiBvbmUgSUQgaWYgb25lIGlzIHBhc3NlZC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gICAgQXJyYXkgb2YgSURzLlxuICAgICAqL1xuICAgIF9nZXRTb3VuZElkczogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGlkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWRzLnB1c2goc2VsZi5fc291bmRzW2ldLl9pZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtpZF07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHNvdW5kIGJhY2sgaW50byB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfcmVmcmVzaEJ1ZmZlcjogZnVuY3Rpb24oc291bmQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGJ1ZmZlciBzb3VyY2UgZm9yIHBsYXliYWNrLlxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlID0gSG93bGVyLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSBjYWNoZVtzZWxmLl9zcmNdO1xuXG4gICAgICAvLyBDb25uZWN0IHRvIHRoZSBjb3JyZWN0IG5vZGUuXG4gICAgICBpZiAoc291bmQuX3Bhbm5lcikge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fcGFubmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9ub2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgbG9vcGluZyBhbmQgcGxheWJhY2sgcmF0ZS5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gc291bmQuX2xvb3A7XG4gICAgICBpZiAoc291bmQuX2xvb3ApIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wIHx8IDA7XG4gICAgICB9XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9yYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgbWVtb3J5IGxlYWtzIGJ5IGNsZWFuaW5nIHVwIHRoZSBidWZmZXIgc291cmNlIGFmdGVyIHBsYXliYWNrLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbm9kZSBTb3VuZCdzIGF1ZGlvIG5vZGUgY29udGFpbmluZyB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhbkJ1ZmZlcjogZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlzSU9TID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPj0gMDtcblxuICAgICAgaWYgKEhvd2xlci5fc2NyYXRjaEJ1ZmZlciAmJiBub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICBub2RlLmJ1ZmZlclNvdXJjZS5vbmVuZGVkID0gbnVsbDtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2UuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgaWYgKGlzSU9TKSB7XG4gICAgICAgICAgdHJ5IHsgbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gSG93bGVyLl9zY3JhdGNoQnVmZmVyOyB9IGNhdGNoKGUpIHt9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuYnVmZmVyU291cmNlID0gbnVsbDtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291cmNlIHRvIGEgMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgQXVkaW8gbm9kZSB0byBjbGVhci5cbiAgICAgKi9cbiAgICBfY2xlYXJTb3VuZDogZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIGNoZWNrSUUgPSAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgaWYgKCFjaGVja0lFKSB7XG4gICAgICAgIG5vZGUuc3JjID0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBTZXR1cCB0aGUgc291bmQgb2JqZWN0LCB3aGljaCBlYWNoIG5vZGUgYXR0YWNoZWQgdG8gYSBIb3dsIGdyb3VwIGlzIGNvbnRhaW5lZCBpbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGhvd2wgVGhlIEhvd2wgcGFyZW50IGdyb3VwLlxuICAgKi9cbiAgdmFyIFNvdW5kID0gZnVuY3Rpb24oaG93bCkge1xuICAgIHRoaXMuX3BhcmVudCA9IGhvd2w7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIFNvdW5kLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IFNvdW5kIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcblxuICAgICAgLy8gQWRkIGl0c2VsZiB0byB0aGUgcGFyZW50J3MgcG9vbC5cbiAgICAgIHBhcmVudC5fc291bmRzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IG5vZGUuXG4gICAgICBzZWxmLmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCBzZXR1cCBhIG5ldyBzb3VuZCBvYmplY3QsIHdoZXRoZXIgSFRNTDUgQXVkaW8gb3IgV2ViIEF1ZGlvLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxuICAgICAqL1xuICAgIGNyZWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuICAgICAgdmFyIHZvbHVtZSA9IChIb3dsZXIuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IHNlbGYuX3BhcmVudC5fbXV0ZWQpID8gMCA6IHNlbGYuX3ZvbHVtZTtcblxuICAgICAgaWYgKHBhcmVudC5fd2ViQXVkaW8pIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBnYWluIG5vZGUgZm9yIGNvbnRyb2xsaW5nIHZvbHVtZSAodGhlIHNvdXJjZSB3aWxsIGNvbm5lY3QgdG8gdGhpcykuXG4gICAgICAgIHNlbGYuX25vZGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHNlbGYuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzZWxmLl9ub2RlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIHNlbGYuX25vZGUuY29ubmVjdChIb3dsZXIubWFzdGVyR2Fpbik7XG4gICAgICB9IGVsc2UgaWYgKCFIb3dsZXIubm9BdWRpbykge1xuICAgICAgICAvLyBHZXQgYW4gdW5sb2NrZWQgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuXG4gICAgICAgIHNlbGYuX25vZGUgPSBIb3dsZXIuX29idGFpbkh0bWw1QXVkaW8oKTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGVycm9ycyAoaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy1hdXRob3Itdmlldy9zcGVjLmh0bWwjbWVkaWFlcnJvcikuXG4gICAgICAgIHNlbGYuX2Vycm9yRm4gPSBzZWxmLl9lcnJvckxpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciAnY2FucGxheXRocm91Z2gnIGV2ZW50IHRvIGxldCB1cyBrbm93IHRoZSBzb3VuZCBpcyByZWFkeS5cbiAgICAgICAgc2VsZi5fbG9hZEZuID0gc2VsZi5fbG9hZExpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gU2V0dXAgdGhlIG5ldyBhdWRpbyBub2RlLlxuICAgICAgICBzZWxmLl9ub2RlLnNyYyA9IHBhcmVudC5fc3JjO1xuICAgICAgICBzZWxmLl9ub2RlLnByZWxvYWQgPSAnYXV0byc7XG4gICAgICAgIHNlbGYuX25vZGUudm9sdW1lID0gdm9sdW1lICogSG93bGVyLnZvbHVtZSgpO1xuXG4gICAgICAgIC8vIEJlZ2luIGxvYWRpbmcgdGhlIHNvdXJjZS5cbiAgICAgICAgc2VsZi5fbm9kZS5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSAoZm9yIHJlY3ljbGUpLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBvZiB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcmF0ZVNlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBzbyB0aGF0IGl0IGlzbid0IGNvbmZ1c2VkIHdpdGggdGhlIHByZXZpb3VzIHNvdW5kLlxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGVycm9yIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9lcnJvckxpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gRmlyZSBhbiBlcnJvciBldmVudCBhbmQgcGFzcyBiYWNrIHRoZSBjb2RlLlxuICAgICAgc2VsZi5fcGFyZW50Ll9lbWl0KCdsb2FkZXJyb3InLCBzZWxmLl9pZCwgc2VsZi5fbm9kZS5lcnJvciA/IHNlbGYuX25vZGUuZXJyb3IuY29kZSA6IDApO1xuXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIVE1MNSBBdWRpbyBjYW5wbGF5dGhyb3VnaCBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBfbG9hZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJvdW5kIHVwIHRoZSBkdXJhdGlvbiB0byBhY2NvdW50IGZvciB0aGUgbG93ZXIgcHJlY2lzaW9uIGluIEhUTUw1IEF1ZGlvLlxuICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XG5cbiAgICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhwYXJlbnQuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBhcmVudC5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHBhcmVudC5fZHVyYXRpb24gKiAxMDAwXX07XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBwYXJlbnQuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgIHBhcmVudC5fZW1pdCgnbG9hZCcpO1xuICAgICAgICBwYXJlbnQuX2xvYWRRdWV1ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgdmFyIGNhY2hlID0ge307XG5cbiAgLyoqXG4gICAqIEJ1ZmZlciBhIHNvdW5kIGZyb20gVVJMLCBEYXRhIFVSSSBvciBjYWNoZSBhbmQgZGVjb2RlIHRvIGF1ZGlvIHNvdXJjZSAoV2ViIEF1ZGlvIEFQSSkuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICovXG4gIHZhciBsb2FkQnVmZmVyID0gZnVuY3Rpb24oc2VsZikge1xuICAgIHZhciB1cmwgPSBzZWxmLl9zcmM7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgYnVmZmVyIGhhcyBhbHJlYWR5IGJlZW4gY2FjaGVkIGFuZCB1c2UgaXQgaW5zdGVhZC5cbiAgICBpZiAoY2FjaGVbdXJsXSkge1xuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbiBmcm9tIHRoZSBjYWNoZS5cbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gY2FjaGVbdXJsXS5kdXJhdGlvbjtcblxuICAgICAgLy8gTG9hZCB0aGUgc291bmQgaW50byB0aGlzIEhvd2wuXG4gICAgICBsb2FkU291bmQoc2VsZik7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoL15kYXRhOlteO10rO2Jhc2U2NCwvLnRlc3QodXJsKSkge1xuICAgICAgLy8gRGVjb2RlIHRoZSBiYXNlNjQgZGF0YSBVUkkgd2l0aG91dCBYSFIsIHNpbmNlIHNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBpdC5cbiAgICAgIHZhciBkYXRhID0gYXRvYih1cmwuc3BsaXQoJywnKVsxXSk7XG4gICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBkYXRhVmlld1tpXSA9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgIH1cblxuICAgICAgZGVjb2RlQXVkaW9EYXRhKGRhdGFWaWV3LmJ1ZmZlciwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExvYWQgdGhlIGJ1ZmZlciBmcm9tIHRoZSBVUkwuXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHJXaXRoQ3JlZGVudGlhbHM7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGdldCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgYmFjay5cbiAgICAgICAgdmFyIGNvZGUgPSAoeGhyLnN0YXR1cyArICcnKVswXTtcbiAgICAgICAgaWYgKGNvZGUgIT09ICcwJyAmJiBjb2RlICE9PSAnMicgJiYgY29kZSAhPT0gJzMnKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ0ZhaWxlZCBsb2FkaW5nIGF1ZGlvIGZpbGUgd2l0aCBzdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJy4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWNvZGVBdWRpb0RhdGEoeGhyLnJlc3BvbnNlLCBzZWxmKTtcbiAgICAgIH07XG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciwgc3dpdGNoIHRvIEhUTUw1IEF1ZGlvLlxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fd2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgICAgICBkZWxldGUgY2FjaGVbdXJsXTtcbiAgICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHNhZmVYaHJTZW5kKHhocik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZW5kIHRoZSBYSFIgcmVxdWVzdCB3cmFwcGVkIGluIGEgdHJ5L2NhdGNoLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHhociBYSFIgdG8gc2VuZC5cbiAgICovXG4gIHZhciBzYWZlWGhyU2VuZCA9IGZ1bmN0aW9uKHhocikge1xuICAgIHRyeSB7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHhoci5vbmVycm9yKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNvZGUgYXVkaW8gZGF0YSBmcm9tIGFuIGFycmF5IGJ1ZmZlci5cbiAgICogQHBhcmFtICB7QXJyYXlCdWZmZXJ9IGFycmF5YnVmZmVyIFRoZSBhdWRpbyBkYXRhLlxuICAgKiBAcGFyYW0gIHtIb3dsfSAgICAgICAgc2VsZlxuICAgKi9cbiAgdmFyIGRlY29kZUF1ZGlvRGF0YSA9IGZ1bmN0aW9uKGFycmF5YnVmZmVyLCBzZWxmKSB7XG4gICAgLy8gRmlyZSBhIGxvYWQgZXJyb3IgaWYgc29tZXRoaW5nIGJyb2tlLlxuICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ0RlY29kaW5nIGF1ZGlvIGRhdGEgZmFpbGVkLicpO1xuICAgIH07XG5cbiAgICAvLyBMb2FkIHRoZSBzb3VuZCBvbiBzdWNjZXNzLlxuICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgICBpZiAoYnVmZmVyICYmIHNlbGYuX3NvdW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNhY2hlW3NlbGYuX3NyY10gPSBidWZmZXI7XG4gICAgICAgIGxvYWRTb3VuZChzZWxmLCBidWZmZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRGVjb2RlIHRoZSBidWZmZXIgaW50byBhbiBhdWRpbyBzb3VyY2UuXG4gICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyKS50aGVuKHN1Y2Nlc3MpLmNhdGNoKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU291bmQgaXMgbm93IGxvYWRlZCwgc28gZmluaXNoIHNldHRpbmcgZXZlcnl0aGluZyB1cCBhbmQgZmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqIEBwYXJhbSAge09iamVjdH0gYnVmZmVyIFRoZSBkZWNvZGVkIGJ1ZmZlciBzb3VuZCBzb3VyY2UuXG4gICAqL1xuICB2YXIgbG9hZFNvdW5kID0gZnVuY3Rpb24oc2VsZiwgYnVmZmVyKSB7XG4gICAgLy8gU2V0IHRoZSBkdXJhdGlvbi5cbiAgICBpZiAoYnVmZmVyICYmICFzZWxmLl9kdXJhdGlvbikge1xuICAgICAgc2VsZi5fZHVyYXRpb24gPSBidWZmZXIuZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgIGlmIChPYmplY3Qua2V5cyhzZWxmLl9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2VsZi5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHNlbGYuX2R1cmF0aW9uICogMTAwMF19O1xuICAgIH1cblxuICAgIC8vIEZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgc2VsZi5fZW1pdCgnbG9hZCcpO1xuICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXR1cCB0aGUgYXVkaW8gY29udGV4dCB3aGVuIGF2YWlsYWJsZSwgb3Igc3dpdGNoIHRvIEhUTUw1IEF1ZGlvIG1vZGUuXG4gICAqL1xuICB2YXIgc2V0dXBBdWRpb0NvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgZGV0ZWN0ZWQgdGhhdCBXZWIgQXVkaW8gaXNuJ3Qgc3VwcG9ydGVkLCBkb24ndCBydW4gdGhpcyBzdGVwIGFnYWluLlxuICAgIGlmICghSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvIGFuZCBzZXR1cCB0aGUgQXVkaW9Db250ZXh0IGlmIHdlIGFyZS5cbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiBBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIEhvd2xlci5jdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIEhvd2xlci5jdHggPSBuZXcgd2Via2l0QXVkaW9Db250ZXh0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYXVkaW8gY29udGV4dCBjcmVhdGlvbiBzdGlsbCBmYWlsZWQsIHNldCB1c2luZyB3ZWIgYXVkaW8gdG8gZmFsc2UuXG4gICAgaWYgKCFIb3dsZXIuY3R4KSB7XG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGEgd2VidmlldyBpcyBiZWluZyB1c2VkIG9uIGlPUzggb3IgZWFybGllciAocmF0aGVyIHRoYW4gdGhlIGJyb3dzZXIpLlxuICAgIC8vIElmIGl0IGlzLCBkaXNhYmxlIFdlYiBBdWRpbyBhcyBpdCBjYXVzZXMgY3Jhc2hpbmcuXG4gICAgdmFyIGlPUyA9ICgvaVAoaG9uZXxvZHxhZCkvLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IucGxhdGZvcm0pKTtcbiAgICB2YXIgYXBwVmVyc2lvbiA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vKTtcbiAgICB2YXIgdmVyc2lvbiA9IGFwcFZlcnNpb24gPyBwYXJzZUludChhcHBWZXJzaW9uWzFdLCAxMCkgOiBudWxsO1xuICAgIGlmIChpT1MgJiYgdmVyc2lvbiAmJiB2ZXJzaW9uIDwgOSkge1xuICAgICAgdmFyIHNhZmFyaSA9IC9zYWZhcmkvLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnN0YW5kYWxvbmUgJiYgIXNhZmFyaSB8fCBIb3dsZXIuX25hdmlnYXRvciAmJiAhSG93bGVyLl9uYXZpZ2F0b3Iuc3RhbmRhbG9uZSAmJiAhc2FmYXJpKSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuZCBleHBvc2UgdGhlIG1hc3RlciBHYWluTm9kZSB3aGVuIHVzaW5nIFdlYiBBdWRpbyAodXNlZnVsIGZvciBwbHVnaW5zIG9yIGFkdmFuY2VkIHVzYWdlKS5cbiAgICBpZiAoSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgSG93bGVyLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShIb3dsZXIuX211dGVkID8gMCA6IEhvd2xlci5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH1cbn0pKCk7XG5cblxuLyohXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cbiAqICBcbiAqICBob3dsZXIuanMgdjIuMS4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgc3RlcmVvIHBhbm5pbmcgcG9zaXRpb24gb2YgYWxsIGN1cnJlbnQgSG93bHMuXG4gICAqIEZ1dHVyZSBIb3dscyB3aWxsIG5vdCB1c2UgdGhpcyB2YWx1ZSB1bmxlc3MgZXhwbGljaXRseSBzZXQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEByZXR1cm4ge0hvd2xlci9OdW1iZXJ9ICAgICBTZWxmIG9yIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCB1cGRhdGUgdGhlaXIgc3RlcmVvIHBhbm5pbmcuXG4gICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICBzZWxmLl9ob3dsc1tpXS5zdGVyZW8ocGFuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyIGluIDNEIGNhcnRlc2lhbiBzcGFjZS4gU291bmRzIHVzaW5nXG4gICAqIDNEIHBvc2l0aW9uIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhlIGxpc3RlbmVyJ3MgcG9zaXRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0geCBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiBUaGUgei1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICBTZWxmIG9yIGN1cnJlbnQgbGlzdGVuZXIgcG9zaXRpb24uXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1sxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzJdIDogejtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWC5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25aLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlbGYuX3BvcztcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIHNwYWNlLlxuICAgKiBBIGZyb250IGFuZCB1cCB2ZWN0b3IgbXVzdCBiZSBwcm92aWRlZC4gVGhlIGZyb250IGlzIHRoZSBkaXJlY3Rpb24gdGhlXG4gICAqIGZhY2Ugb2YgdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nLCBhbmQgdXAgaXMgdGhlIGRpcmVjdGlvbiB0aGUgdG9wIG9mIHRoZVxuICAgKiBsaXN0ZW5lciBpcyBwb2ludGluZy4gVGh1cywgdGhlc2UgdmFsdWVzIGFyZSBleHBlY3RlZCB0byBiZSBhdCByaWdodCBhbmdsZXNcbiAgICogZnJvbSBlYWNoIG90aGVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHhVcCBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5VXAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0gelVwIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24gdmVjdG9ycy5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB2YXIgb3IgPSBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBvclsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gb3JbMl0gOiB6O1xuICAgIHhVcCA9ICh0eXBlb2YgeFVwICE9PSAnbnVtYmVyJykgPyBvclszXSA6IHhVcDtcbiAgICB5VXAgPSAodHlwZW9mIHlVcCAhPT0gJ251bWJlcicpID8gb3JbNF0gOiB5VXA7XG4gICAgelVwID0gKHR5cGVvZiB6VXAgIT09ICdudW1iZXInKSA/IG9yWzVdIDogelVwO1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgeiwgeFVwLCB5VXAsIHpVcF07XG5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWS5zZXRUYXJnZXRBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUoeFVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFkuc2V0VGFyZ2V0QXRUaW1lKHlVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBaLnNldFRhcmdldEF0VGltZSh6VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9yO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBvLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXTtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IG8uc3RlcmVvIHx8IG51bGw7XG4gICAgICBzZWxmLl9wb3MgPSBvLnBvcyB8fCBudWxsO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcbiAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IDAsXG4gICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogJ2ludmVyc2UnLFxuICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IDEwMDAwLFxuICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6ICdIUlRGJyxcbiAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiAxLFxuICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IDFcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uc3RlcmVvID0gby5vbnN0ZXJlbyA/IFt7Zm46IG8ub25zdGVyZW99XSA6IFtdO1xuICAgICAgc2VsZi5fb25wb3MgPSBvLm9ucG9zID8gW3tmbjogby5vbnBvc31dIDogW107XG4gICAgICBzZWxmLl9vbm9yaWVudGF0aW9uID0gby5vbm9yaWVudGF0aW9uID8gW3tmbjogby5vbm9yaWVudGF0aW9ufV0gOiBbXTtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvKTtcbiAgICB9O1xuICB9KShIb3dsLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgc3RlcmVvIHBhbm5pbmcgb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBhbGwgaW4gdGhlIGdyb3VwLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiAgQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4sIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugc3RlcmVvIHBhbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnc3RlcmVvJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0ZXJlbyhwYW4sIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBQYW5uZXJTdGVyZW9Ob2RlIHN1cHBvcnQgYW5kIGZhbGxiYWNrIHRvIFBhbm5lck5vZGUgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICB2YXIgcGFubmVyVHlwZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09ICd1bmRlZmluZWQnKSA/ICdzcGF0aWFsJyA6ICdzdGVyZW8nO1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgc2VsZi5fcG9zID0gW3BhbiwgMCwgMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fc3RlcmVvO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3RyZW8gcGFubmluZyBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9zdGVyZW8gPSBwYW47XG4gICAgICAgICAgc291bmQuX3BvcyA9IFtwYW4sIDAsIDBdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZmFsbGluZyBiYWNrLCBtYWtlIHN1cmUgdGhlIHBhbm5pbmdNb2RlbCBpcyBlcXVhbHBvd2VyLlxuICAgICAgICAgICAgc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsID0gJ2VxdWFscG93ZXInO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgIXNvdW5kLl9wYW5uZXIucGFuKSB7XG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCBwYW5uZXJUeXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhbm5lclR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0ZXJlbycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9zdGVyZW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgM0Qgc3BhdGlhbCBwb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGdyb3VwIHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBwb3NpdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwb3NpdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAncG9zJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnBvcyh4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gMCA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gLTAuNSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBwb3NpdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BvcycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9wb3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBhdWRpbyBzb3VyY2UgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBjb29yZGluYXRlXG4gICAqIHNwYWNlLiBEZXBlbmRpbmcgb24gaG93IGRpcmVjdGlvbiB0aGUgc291bmQgaXMsIGJhc2VkIG9uIHRoZSBgY29uZWAgYXR0cmlidXRlcyxcbiAgICogYSBzb3VuZCBwb2ludGluZyBhd2F5IGZyb20gdGhlIGxpc3RlbmVyIGNhbiBiZSBxdWlldCBvciBzaWxlbnQuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBvcmllbnRhdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIG9yaWVudGF0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdvcmllbnRhdGlvbicsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5vcmllbnRhdGlvbih4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzJdIDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX29yaWVudGF0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBvcmllbnRhdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lcikge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAqXG4gICAqICAgQXR0cmlidXRlczpcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgaW5zaWRlIG9mIHdoaWNoIHRoZXJlIHdpbGwgYmUgbm8gdm9sdW1lIHJlZHVjdGlvbi5cbiAgICogICAgIGNvbmVPdXRlckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgb3V0c2lkZSBvZiB3aGljaCB0aGUgdm9sdW1lIHdpbGwgYmUgcmVkdWNlZCB0byBhIGNvbnN0YW50IHZhbHVlIG9mIGBjb25lT3V0ZXJHYWluYC5cbiAgICogICAgIGNvbmVPdXRlckdhaW4gLSAoMCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyB0aGUgZ2FpbiBvdXRzaWRlIG9mIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGBjb25lT3V0ZXJBbmdsZWAuIEl0IGlzIGEgbGluZWFyIHZhbHVlIGluIHRoZSByYW5nZSBgWzAsIDFdYC5cbiAgICogICAgIGRpc3RhbmNlTW9kZWwgLSAoJ2ludmVyc2UnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgYWxnb3JpdGhtIHVzZWQgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3ZlcyBhd2F5IGZyb21cbiAgICogICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci4gQ2FuIGJlIGBsaW5lYXJgLCBgaW52ZXJzZWAgb3IgYGV4cG9uZW50aWFsLlxuICAgKiAgICAgbWF4RGlzdGFuY2UgLSAoMTAwMDAgYnkgZGVmYXVsdCkgVGhlIG1heGltdW0gZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UgYW5kIGxpc3RlbmVyLCBhZnRlciB3aGljaCB0aGUgdm9sdW1lXG4gICAqICAgICAgICAgICAgICAgICAgIHdpbGwgbm90IGJlIHJlZHVjZWQgYW55IGZ1cnRoZXIuXG4gICAqICAgICByZWZEaXN0YW5jZSAtICgxIGJ5IGRlZmF1bHQpIEEgcmVmZXJlbmNlIGRpc3RhbmNlIGZvciByZWR1Y2luZyB2b2x1bWUgYXMgc291cmNlIG1vdmVzIGZ1cnRoZXIgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2ltcGx5IGEgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBoYXMgYSBkaWZmZXJlbnQgZWZmZWN0IGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbFxuICAgKiAgICAgICAgICAgICAgICAgICBpcyB1c2VkIGFuZCB0aGUgc2NhbGUgb2YgeW91ciBjb29yZGluYXRlcy4gR2VuZXJhbGx5LCB2b2x1bWUgd2lsbCBiZSBlcXVhbCB0byAxIGF0IHRoaXMgZGlzdGFuY2UuXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLiBUaGlzIGlzIHNpbXBseSBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBjYW4gYmUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHdpdGggYGxpbmVhcmAgYW5kIGBbMCwg4oieXWBcbiAgICogICAgICAgICAgICAgICAgICAgICB3aXRoIGBpbnZlcnNlYCBhbmQgYGV4cG9uZW50aWFsYC5cbiAgICogICAgIHBhbm5pbmdNb2RlbCAtICgnSFJURicgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyB3aGljaCBzcGF0aWFsaXphdGlvbiBhbGdvcml0aG0gaXMgdXNlZCB0byBwb3NpdGlvbiBhdWRpby5cbiAgICogICAgICAgICAgICAgICAgICAgICBDYW4gYmUgYEhSVEZgIG9yIGBlcXVhbHBvd2VyYC5cbiAgICpcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvID0gYXJnc1swXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAoIW8ucGFubmVyQXR0cikge1xuICAgICAgICAgICAgby5wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogby5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG8uY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IG8uY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogby5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogby5tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcmVmRGlzdGFuY2U6IG8ucmVmRGlzdGFuY2UsXG4gICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG8ucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBvLnBhbm5pbmdNb2RlbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlIDogc2VsZi5fY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgOiBzZWxmLl9jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgOiBzZWxmLl9kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLm1heERpc3RhbmNlIDogc2VsZi5fbWF4RGlzdGFuY2UsXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgOiBzZWxmLl9yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciA6IHNlbGYuX3JvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcGFubmVyQXR0ciA6IHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgbyA9IGFyZ3NbMF07XG4gICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZhbHVlcyBvZiB0aGUgc3BlY2lmaWVkIHNvdW5kcy5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IHZhbHVlcyBpbnRvIHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHBhID0gc291bmQuX3Bhbm5lckF0dHI7XG4gICAgICAgIHBhID0ge1xuICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogcGEuY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiBwYS5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHBhLmNvbmVPdXRlckdhaW4sXG4gICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiBwYS5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogcGEubWF4RGlzdGFuY2UsXG4gICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiBwYS5yZWZEaXN0YW5jZSxcbiAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IHBhLnJvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBwYS5wYW5uaW5nTW9kZWxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBhbm5lciB2YWx1ZXMgb3IgY3JlYXRlIGEgbmV3IHBhbm5lciBpZiBub25lIGV4aXN0cy5cbiAgICAgICAgdmFyIHBhbm5lciA9IHNvdW5kLl9wYW5uZXI7XG4gICAgICAgIGlmIChwYW5uZXIpIHtcbiAgICAgICAgICBwYW5uZXIuY29uZUlubmVyQW5nbGUgPSBwYS5jb25lSW5uZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyQW5nbGUgPSBwYS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyR2FpbiA9IHBhLmNvbmVPdXRlckdhaW47XG4gICAgICAgICAgcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBwYS5kaXN0YW5jZU1vZGVsO1xuICAgICAgICAgIHBhbm5lci5tYXhEaXN0YW5jZSA9IHBhLm1heERpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZS5cbiAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBTb3VuZCBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXG4gICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KShTb3VuZC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBTb3VuZC5yZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgcHJvcGVydGllcyBmcm9tIHRoZSBzcGF0aWFsIHBsdWdpbi5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBTb3VuZCByZXNldCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLnJlc2V0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBzcGF0aWFsIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHBhbm5lci5cbiAgICAgICAgc2VsZi5fcGFubmVyLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyZW50Ll9yZWZyZXNoQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJlZkRpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBzb3VuZC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yO1xuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICBzb3VuZC5fcGFubmVyLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cbiAgICBpZiAoIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgIHNvdW5kLl9wYXJlbnQucGF1c2Uoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufSkoKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImV4cG9ydCBlbnVtIFRpbWVyIHtcclxuICAgIFBvbW9kb3JvID0gXCJQb21vZG9yb1wiLFxyXG4gICAgTG9uZ0JyZWFrID0gXCJMb25nIEJyZWFrXCIsXHJcbiAgICBTaG9ydEJyZWFrID0gXCJTaG9ydCBCcmVha1wiXHJcbn0iLCJleHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xyXG4gICAgc3RhdGljIGV4aXN0cygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHN0b3JlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvYWQoa2V5OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2FkQm9vbGVhbihrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKFNldHRpbmdzLmxvYWQoa2V5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGV4aXN0KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIFNldHRpbmdzLmxvYWQoa2V5KSAhPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzdG9yZUlmTnVsbChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgICAgIGlmICghU2V0dGluZ3MuZXhpc3Qoa2V5KSkge1xyXG4gICAgICAgICAgICBTZXR0aW5ncy5zdG9yZShrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IEhvd2wgfSBmcm9tICdob3dsZXInO1xyXG5pbXBvcnQgeyBTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBUaW1lciB9IGZyb20gJy4vdGltZXInO1xyXG5cclxuY2xhc3MgQm9sb2duZXNlIHtcclxuICAgIGFsYXJtOiBhbnk7XHJcbiAgICB0aW1lcjogRWxlbWVudDtcclxuICAgIHRpbWVyU3ViOiBFbGVtZW50O1xyXG4gICAgdGltZTogbnVtYmVyO1xyXG4gICAgaW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0O1xyXG5cclxuICAgIHRpbWVyVHlwZTogVGltZXI7XHJcbiAgICBjb3VudGVyOiBudW1iZXI7XHJcbiAgICBkaXNwbGF5OiBudW1iZXI7XHJcbiAgICBzdWJfZGlzOiBudW1iZXI7XHJcbiAgICBpc190aWNraW5nOiBib29sZWFuO1xyXG5cclxuICAgIHRpdGxlOiBIVE1MRWxlbWVudDtcclxuICAgIHN1YlRpdGxlOiBIVE1MRWxlbWVudDtcclxuICAgIHBvbW9kb3JvQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgIGxvbmdCcmVha0J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBzaG9ydEJyZWFrQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcbiAgICBwb21vZG9yb0F1dG9DaGVja2JveDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHBvbW9kb3JvQnJlYWtzSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgaW5maW5pdGVBbGFybUNoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgdGFiVGltZXJDaGVja2JveDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIG5vdGlmaWNhdGlvbkNoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgIGFsYXJtT3ZlcmxheTogRWxlbWVudDtcclxuXHJcbiAgICBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0aW1lOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy93b3JrZXIuanMnKS50aGVuKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0U2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgdGhpcy50aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbS10aXRsZVwiKTtcclxuICAgICAgICB0aGlzLnN1YlRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzLXRpdGxlXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVyVHlwZSA9IFRpbWVyLlBvbW9kb3JvO1xyXG4gICAgICAgIHRoaXMudGltZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpbWVyXCIpO1xyXG4gICAgICAgIHRoaXMudGltZXJTdWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpbWVyLXN1YlwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb21vZG9yb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9tb2Rvcm8tYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMucG9tb2Rvcm9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMudXBkYXRlVGltZXIoU2V0dGluZ3MubG9hZChcInBvbW9kb3JvXCIpLCBUaW1lci5Qb21vZG9ybykpO1xyXG5cclxuICAgICAgICB0aGlzLmxvbmdCcmVha0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbC1icmVhay1idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5sb25nQnJlYWtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMudXBkYXRlVGltZXIoU2V0dGluZ3MubG9hZChcImxvbmctYnJlYWtcIiksIFRpbWVyLkxvbmdCcmVhaykpO1xyXG5cclxuICAgICAgICB0aGlzLnNob3J0QnJlYWtCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3MtYnJlYWstYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuc2hvcnRCcmVha0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy51cGRhdGVUaW1lcihTZXR0aW5ncy5sb2FkKFwic2hvcnQtYnJlYWtcIiksIFRpbWVyLlNob3J0QnJlYWspKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb21vZG9yb0F1dG9DaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9tb2Rvcm8tYXV0by1tb2RlXCIpO1xyXG4gICAgICAgIHRoaXMucG9tb2Rvcm9BdXRvQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwicG9tb2Rvcm9fYXV0b1wiLCB0aGlzLnBvbW9kb3JvQXV0b0NoZWNrYm94LmNoZWNrZWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBvbW9kb3JvQnJlYWtzSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvbW9kb3JvLWJyZWFrc1wiKTtcclxuICAgICAgICB0aGlzLnBvbW9kb3JvQnJlYWtzSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwibWF4X2JyZWFrXCIsIHRoaXMucG9tb2Rvcm9CcmVha3NJbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwiY3VyX2JyZWFrXCIsIDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBvbW9kb3JvQXV0b0NoZWNrYm94LmNoZWNrZWQgPSBKU09OLnBhcnNlKFNldHRpbmdzLmxvYWQoXCJwb21vZG9yb19hdXRvXCIpKTtcclxuICAgICAgICB0aGlzLnBvbW9kb3JvQnJlYWtzSW5wdXQudmFsdWUgPSBTZXR0aW5ncy5sb2FkKFwibWF4X2JyZWFrXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmFsYXJtT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWxhcm0tb3ZlcmxheVwiKTtcclxuICAgICAgICB0aGlzLmFsYXJtT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVDU1MoXCIjdGVzdFwiLCBcImJvdW5jZU91dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFsYXJtT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWxhcm0uZmFkZShTZXR0aW5ncy5sb2FkKFwidm9sdW1lXCIpLCAwLCAyMDAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmZpbml0ZUFsYXJtQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luZmluaXRlLWFsYXJtXCIpO1xyXG4gICAgICAgIHRoaXMuaW5maW5pdGVBbGFybUNoZWNrYm94LmNoZWNrZWQgPSBTZXR0aW5ncy5sb2FkQm9vbGVhbihcImluZmluaXRlLWFsYXJtXCIpO1xyXG4gICAgICAgIHRoaXMuaW5maW5pdGVBbGFybUNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBTZXR0aW5ncy5zdG9yZShcImluZmluaXRlLWFsYXJtXCIsIHRoaXMuaW5maW5pdGVBbGFybUNoZWNrYm94LmNoZWNrZWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRhYlRpbWVyQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RhYi10aW1lclwiKTtcclxuICAgICAgICB0aGlzLnRhYlRpbWVyQ2hlY2tib3guY2hlY2tlZCA9IFNldHRpbmdzLmxvYWRCb29sZWFuKFwidGFiLXRpbWVyXCIpO1xyXG4gICAgICAgIHRoaXMudGFiVGltZXJDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgU2V0dGluZ3Muc3RvcmUoXCJ0YWItdGltZXJcIiwgdGhpcy50YWJUaW1lckNoZWNrYm94LmNoZWNrZWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbkNoZWNrYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbmFibGUtbm90aWZpY2F0aW9uXCIpO1xyXG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uQ2hlY2tib3guY2hlY2tlZCA9IFNldHRpbmdzLmxvYWRCb29sZWFuKFwiZW5hYmxlLW5vdGlmaWNhdGlvblwiKTtcclxuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbkNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwiZW5hYmxlLW5vdGlmaWNhdGlvblwiLCB0aGlzLm5vdGlmaWNhdGlvbkNoZWNrYm94LmNoZWNrZWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgYyA9IDA7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIGV2ID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2LmtleSA9PT0gJ3AnKSB7XHJcbiAgICAgICAgICAgICAgICBjKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoYyA+PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYyA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUuaW5uZXJIVE1MID0gXCJQYXBlcnBsYW5lVGltZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ViVGl0bGUuaW5uZXJIVE1MID0gXCJmb3IgUHJpbmNlc3NQYXBlcnBsYW5lXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N0YXJ0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnN0YXJ0VGltZXIoKSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdG9wXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnN0b3BUaW1lcigpKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc2V0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLnJlc2V0VGltZXIoKSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2V0dGluZ3NcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMub3ZlcmxheUZhZGVJbigpKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NldHRpbmdzLWNsb3NlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLm92ZXJsYXlGYWRlT3V0KCkpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2MtcG9tb2Rvcm9cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwicG9tb2Rvcm9cIiwgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYy1wb21vZG9yb1wiKSkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2MtbC1icmVha1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgU2V0dGluZ3Muc3RvcmUoXCJsb25nLWJyZWFrXCIsICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2MtbC1icmVha1wiKSkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Mtcy1icmVha1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgU2V0dGluZ3Muc3RvcmUoXCJzaG9ydC1icmVha1wiLCAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjLXMtYnJlYWtcIikpLnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjdXN0b20tYWxhcm1cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwiYWxhcm1cIiwgKDxIVE1MU2VsZWN0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1c3RvbS1hbGFybVwiKSkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ZvbHVtZS1jb250cm9sXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBTZXR0aW5ncy5zdG9yZShcInZvbHVtZVwiLCAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2b2x1bWUtY29udHJvbFwiKSkudmFsdWUpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWxhcm0tcHJldmlld1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuZXcgSG93bCh7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWU6IFNldHRpbmdzLmxvYWQoXCJ2b2x1bWVcIiksXHJcbiAgICAgICAgICAgICAgICBodG1sNTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNyYzogWydzb3VuZHMvJyArIFNldHRpbmdzLmxvYWQoXCJhbGFybVwiKSArICcubXAzJ11cclxuICAgICAgICAgICAgfSkucGxheSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRpbWVyXCIpLmZvckVhY2goZWxlbSA9PiB0aGlzLnJlZ2lzdGVyQnV0dG9uaGFuZGxlKGVsZW0pKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRleEFsYXJtcygpO1xyXG4gICAgICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NldHRpbmdzLWJ1dHRvblwiKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIExPQUQgU0VUVElOR1MgKi9cclxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjLXBvbW9kb3JvXCIpKS52YWx1ZSA9IFNldHRpbmdzLmxvYWQoXCJwb21vZG9yb1wiKTtcclxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjLWwtYnJlYWtcIikpLnZhbHVlID0gU2V0dGluZ3MubG9hZChcImxvbmctYnJlYWtcIik7XHJcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYy1zLWJyZWFrXCIpKS52YWx1ZSA9IFNldHRpbmdzLmxvYWQoXCJzaG9ydC1icmVha1wiKTtcclxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2b2x1bWUtY29udHJvbFwiKSkudmFsdWUgPSBTZXR0aW5ncy5sb2FkKFwidm9sdW1lXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUgPSB0aW1lO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIodGhpcy50aW1lLCBUaW1lci5Qb21vZG9ybyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFRpbWVyKCkge1xyXG4gICAgICAgIHRoaXMuY291bnRlciA9IHRoaXMudGltZSAqIDYwO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IHRoaXMudGltZTtcclxuICAgICAgICB0aGlzLnN1Yl9kaXMgPSAwO1xyXG4gICAgICAgIHRoaXMuaXNfdGlja2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0VGltZXIoKSB7XHJcbiAgICAgICAgbGV0IHByZTogc3RyaW5nO1xyXG4gICAgICAgIGxldCBzdWI6IHN0cmluZztcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzX3RpY2tpbmcpIHtcclxuICAgICAgICAgICAgaWYgKFNldHRpbmdzLmxvYWQoXCJhbGFybVwiKSAhPSBcIi1cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGFybSA9IG5ldyBIb3dsKHtcclxuICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IFNldHRpbmdzLmxvYWQoXCJ2b2x1bWVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbDU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IFNldHRpbmdzLmxvYWRCb29sZWFuKFwiaW5maW5pdGUtYWxhcm1cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBbJ3NvdW5kcy8nICsgU2V0dGluZ3MubG9hZChcImFsYXJtXCIpICsgJy5tcDMnXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNfdGlja2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXIgPSB0aGlzLmNvdW50ZXIgLSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ID0gTWF0aC5mbG9vcih0aGlzLmNvdW50ZXIgLyA2MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3ViX2RpcyA9PSAwKSB0aGlzLnN1Yl9kaXMgPSA2MDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViX2Rpcy0tO1xyXG5cclxuICAgICAgICAgICAgICAgIHByZSA9IHRoaXMuZGlzcGxheS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgc3ViID0gdGhpcy5zdWJfZGlzLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJfZGlzIDwgMTApIHN1YiA9IFwiMFwiICsgdGhpcy5zdWJfZGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGxheSA8IDEwKSBwcmUgPSAwICsgdGhpcy5kaXNwbGF5LnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lci50ZXh0Q29udGVudCA9IHByZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZXJTdWIudGV4dENvbnRlbnQgPSBzdWI7XHJcbiAgICAgICAgICAgICAgICBpZiAoU2V0dGluZ3MubG9hZEJvb2xlYW4oXCJ0YWItdGltZXJcIikpIHRoaXMucmVmcmVzaFRpdGxlKHByZSArIFwiOlwiICsgc3ViKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ZXIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsYXJtLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoU2V0dGluZ3MubG9hZEJvb2xlYW4oXCJpbmZpbml0ZS1hbGFybVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFsYXJtT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVDU1MoXCIjYWxhcm0tb3ZlcmxheVwiLCBcImJvdW5jZUluRG93blwiLCBudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChTZXR0aW5ncy5sb2FkQm9vbGVhbihcInBvbW9kb3JvX2F1dG9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXJUeXBlID09IFRpbWVyLlNob3J0QnJlYWsgfHwgdGhpcy50aW1lclR5cGUgPT09IFRpbWVyLkxvbmdCcmVhaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb21vZG9yb0J1dHRvbi5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lclR5cGUgPT0gVGltZXIuUG9tb2Rvcm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdzLnN0b3JlKFwiY3VyX2JyZWFrXCIsICtTZXR0aW5ncy5sb2FkKFwiY3VyX2JyZWFrXCIpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2V0dGluZ3MubG9hZChcImN1cl9icmVha1wiKSA8IFNldHRpbmdzLmxvYWQoXCJtYXhfYnJlYWtcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3J0QnJlYWtCdXR0b24uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2V0dGluZ3MubG9hZChcImN1cl9icmVha1wiKSA+PSBTZXR0aW5ncy5sb2FkKFwibWF4X2JyZWFrXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3Muc3RvcmUoXCJjdXJfYnJlYWtcIiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb25nQnJlYWtCdXR0b24uY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldFRpdGxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNldHRpbmdzLmxvYWRCb29sZWFuKFwiZW5hYmxlLW5vdGlmaWNhdGlvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdE5vdGlmaWNhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3BUaW1lcigpIHtcclxuICAgICAgICB0aGlzLmlzX3RpY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0VGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wVGltZXIoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyKHRoaXMudGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVGltZXIodDogbnVtYmVyLCB0eXBlPzogVGltZXIpIHtcclxuICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUgPSB0O1xyXG4gICAgICAgIHRoaXMudGltZXJUeXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgdmFyIHZhbHVlID0gdC50b1N0cmluZygpO1xyXG4gICAgICAgIGlmICh0IDwgMTApIHZhbHVlID0gMCArIHZhbHVlO1xyXG4gICAgICAgIHRoaXMudGltZXIudGV4dENvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnRpbWVyU3ViLnRleHRDb250ZW50ID0gXCIwMFwiO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRUaW1lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyQnV0dG9uaGFuZGxlKGVsZW1lbnQ6IEVsZW1lbnQpIHtcclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGltZXJcIikuZm9yRWFjaChlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2YXRlZFwiKSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjdGl2YXRlZFwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvdmVybGF5RmFkZUluKCkge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheVwiKTtcclxuXHJcbiAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgdGhpcy5hbmltYXRlQ1NTKFwiI292ZXJsYXlcIiwgXCJib3VuY2VJbkRvd25cIiwgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3ZlcmxheUZhZGVPdXQoKSB7XHJcbiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5XCIpO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGVDU1MoXCIjb3ZlcmxheVwiLCBcImJvdW5jZU91dFVwXCIsICgpID0+IHtcclxuICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc190aWNraW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEN1cnJlbnRBbGFybSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhbmltYXRlQ1NTKGVsZW1lbnQ6IHN0cmluZywgYW5pbWF0aW9uTmFtZTogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudClcclxuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGVkJywgYW5pbWF0aW9uTmFtZSlcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQW5pbWF0aW9uRW5kKCkge1xyXG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGVkJywgYW5pbWF0aW9uTmFtZSlcclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoYW5kbGVBbmltYXRpb25FbmQpXHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhhbmRsZUFuaW1hdGlvbkVuZClcclxuICAgIH1cclxuXHJcbiAgICBpbmRleEFsYXJtcygpIHtcclxuICAgICAgICBjb25zdCBhbGFybXMgPSBbXCItXCIsIFwiT3dsXCIsIFwiRHVja1wiXTtcclxuICAgICAgICBhbGFybXMuZm9yRWFjaChhID0+IHtcclxuICAgICAgICAgICAgdmFyIGFsciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgIGFsci52YWx1ZSA9IGEudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgYWxyLnRleHQgPSBhO1xyXG5cclxuICAgICAgICAgICAgaWYgKFNldHRpbmdzLmxvYWQoXCJhbGFybVwiKSA9PT0gYS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBhbHIuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAoPEhUTUxTZWxlY3RFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VzdG9tLWFsYXJtXCIpKS5hZGQoYWxyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoQ3VycmVudEFsYXJtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyVHlwZSA9PSBUaW1lci5Qb21vZG9ybykge1xyXG4gICAgICAgICAgICB0aGlzLnBvbW9kb3JvQnV0dG9uLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy50aW1lclR5cGUgPT0gVGltZXIuTG9uZ0JyZWFrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9uZ0JyZWFrQnV0dG9uLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy50aW1lclR5cGUgPT0gVGltZXIuU2hvcnRCcmVhaykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3J0QnJlYWtCdXR0b24uY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFRpdGxlKHRpbWU6IHN0cmluZykge1xyXG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gXCJCb2xvZ25lc2VUaW1lIC0gXCIgKyB0aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0VGl0bGUoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBcIkJvbG9nbmVzZVRpbWVcIjtcclxuICAgIH1cclxuXHJcbiAgICBpbml0U2V0dGluZ3MoKSB7XHJcbiAgICAgICAgU2V0dGluZ3Muc3RvcmVJZk51bGwoXCJwb21vZG9yb1wiLCAyNSk7XHJcbiAgICAgICAgU2V0dGluZ3Muc3RvcmVJZk51bGwoXCJsb25nLWJyZWFrXCIsIDIwKTtcclxuICAgICAgICBTZXR0aW5ncy5zdG9yZUlmTnVsbChcInNob3J0LWJyZWFrXCIsIDUpO1xyXG4gICAgICAgIFNldHRpbmdzLnN0b3JlSWZOdWxsKFwiYWxhcm1cIiwgXCJvd2xcIik7XHJcbiAgICAgICAgU2V0dGluZ3Muc3RvcmVJZk51bGwoXCJ2b2x1bWVcIiwgMC41KTtcclxuICAgICAgICBTZXR0aW5ncy5zdG9yZUlmTnVsbChcInBvbW9kb3JvX2F1dG9cIiwgZmFsc2UpO1xyXG4gICAgICAgIFNldHRpbmdzLnN0b3JlSWZOdWxsKFwibWF4X2JyZWFrXCIsIDQpO1xyXG4gICAgICAgIFNldHRpbmdzLnN0b3JlSWZOdWxsKFwiY3VyX2JyZWFrXCIsIDApO1xyXG4gICAgICAgIFNldHRpbmdzLnN0b3JlSWZOdWxsKFwidGFiLXRpbWVyXCIsIGZhbHNlKTtcclxuICAgICAgICBTZXR0aW5ncy5zdG9yZUlmTnVsbChcImluZmluaXRlLWFsYXJtXCIsIGZhbHNlKTtcclxuICAgICAgICBTZXR0aW5ncy5zdG9yZUlmTnVsbChcImVuYWJsZS1ub3RpZmljYXRpb25cIiwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdE5vdGlmaWNhdGlvbigpIHtcclxuICAgICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09IFwiZ3JhbnRlZFwiKSB7XHJcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IHRoaXMudGltZXJUeXBlLnRvU3RyaW5nKCkgKyBcIiBmaW5pc2hlZCFcIjtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSBcIllvdXIgdGltZXIgaGFzIGZpbmlzaGVkIVwiO1xyXG4gICAgICAgICAgICBpZiAoU2V0dGluZ3MubG9hZEJvb2xlYW4oXCJwb21vZG9yb19hdXRvXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9ICtTZXR0aW5ncy5sb2FkKFwiY3VyX2JyZWFrXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSArU2V0dGluZ3MubG9hZChcIm1heF9icmVha1wiKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gbSAtIGM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGV4dCA9IFwiSnVzdCBcIiArIGQgKyBcIiBtb3JlIHBvbW9kb3JvIHNlc3Npb24ocykgdGlsbCBhIGxvbmcgYnJlYWshXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCA9PT0gbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIllvdSd2ZSBlYXJuZWQgeW91IGEgbG9uZyBicmVhayFcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKHRpdGxlLCB7XHJcbiAgICAgICAgICAgICAgICBib2R5OiB0ZXh0LFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2FuZHJvaWQtY2hyb21lLTE5MngxOTIucG5nJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICBuZXcgQm9sb2duZXNlKFNldHRpbmdzLmxvYWQoXCJwb21vZG9yb1wiKSk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=